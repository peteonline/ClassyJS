Object.create||(Object.create=function(){function t(){}return function(e){if(1!=arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return t.prototype=e,new t}}()),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){},a=function(){return n.apply(this instanceof i?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,a.prototype=new i,a}),function(t){t.Mocker=function(){},t.Mocker.prototype.getMock=function(t){var e=function(){};return e.prototype=t.prototype,new e}}(window.ClassyJS=window.ClassyJS||{}),function(t){t.Inheritance=function(){},t.Inheritance.makeChild=function(t,e){t.prototype=_createObject(e.prototype),t.prototype.constructor=t},_createObject=function(t){function e(){}return e.prototype=t,new e}}(window.ClassyJS=window.ClassyJS||{}),function(t){t.Fatal={},t.Fatal.getFatal=function(t,e){var n=function(t,n){this.code=t,this.message=e[t],n&&(this.message=this.message+" ("+n+")"),this.stack=Error().stack};return n.prototype=Object.create(Error.prototype),n.prototype.name="Fatal Error: "+t,n}}(window.ClassyJS=window.ClassyJS||{}),function(t){t.NamespaceManager=function(){},t.NamespaceManager.prototype.getNamespaceObject=function(t){return e(t)},t.NamespaceManager.prototype.registerClassFunction=function(t,i){var a=t.split("."),o=a.pop(),s=a.join(".");if(""!=s&&n(s),s=e(s),"object"==typeof s[o]){var r={};for(var c in s[o])r[c]=s[o][c]}s[o]=i;for(var c in r)s[o][c]=r[c]};var e=function(e){if(""==e)return window;for(var n=e.split("."),i=window,a=0;a<n.length;a++){if("undefined"==typeof i[n[a]])throw new t.NamespaceManager.Fatal("NAMESPACE_OBJECT_DOES_NOT_EXIST");if(i=i[n[a]],a==n.length-1)return i}},n=function(t){var e=t.split("."),n=window;for(var i in e)"undefined"==typeof n[e[i]]&&(n[e[i]]={}),n=n[e[i]]}}(window.ClassyJS=window.ClassyJS||{}),function(t,e){var n={NAMESPACE_OBJECT_DOES_NOT_EXIST:"No object exists at the requested namespace location"};e.Fatal=t.Fatal.getFatal("NamespaceManager.Fatal",n)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.NamespaceManager=window.ClassyJS.NamespaceManager||{}),function(t){t.TypeChecker=function(e){if(!(e instanceof ClassyJS.TypeChecker.ReflectionFactory))throw new t.TypeChecker.Fatal("NO_REFLECTION_FACTORY_PROVIDED","Provided type: "+typeof e);this._reflectionFactory=e},t.TypeChecker.prototype.isValidType=function(e,n){if("string"!=typeof n)throw new t.TypeChecker.Fatal("NON_STRING_TYPE_IDENTIFIER");if(n.match(/\|(?![^\[]*\])/)){for(var i=n.split(/\|(?![^\[]*\])/),a=0;a<i.length;a++)if(this.isValidType(e,i[a])===!0)return!0;return!1}if("[object Array]"==Object.prototype.toString.call(e)){var o=n.match(/^\[(.+)\]$/);if(o){for(var a in e)if(!this.isValidType(e[a],o[1]))return!1;return!0}return"array"==n||"mixed"==n}if("mixed"===n)return!0;if(null===e)return"null"==n;if(typeof e==n)return!0;if("object"==typeof e)try{var s=this._reflectionFactory.buildClass(e);if(s.implementsInterface(n))return!0}catch(r){if(!(r instanceof Reflection.Class.Fatal)||"CLASS_DOES_NOT_EXIST"!=r.code)throw r}var c=n.split("."),y=window;do{var l=c.shift();if("undefined"==typeof y[l])return!1;y=y[l]}while(c.length);return e instanceof y},t.TypeChecker.prototype.areValidTypes=function(e,n){if("[object Array]"!=Object.prototype.toString.call(e))throw new t.TypeChecker.Fatal("NON_ARRAY_VALUES","Provided type: "+typeof e);if("[object Array]"!=Object.prototype.toString.call(n))throw new t.TypeChecker.Fatal("NON_ARRAY_TYPES","Provided type: "+typeof n);if(e.length!=n.length)throw new t.TypeChecker.Fatal("VALUE_TYPE_MISMATCH","Values length: "+e.length+", Types length: "+n.length);for(var i=0;i<e.length;i++)if(!this.isValidType(e[i],n[i]))return!1;return!0}}(window.ClassyJS=window.ClassyJS||{}),function(t,e){e.ReflectionFactory=function(){},e.ReflectionFactory.prototype.buildClass=function(t){return new Reflection.Class(t)}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.TypeChecker=window.ClassyJS.TypeChecker||{}),function(t,e){var n={NO_REFLECTION_FACTORY_PROVIDED:"An instance of ClassyJS.TypeChecker.ReflectionFactory must be provided",NON_STRING_TYPE_IDENTIFIER:"Provided type identifier must be a string",NON_ARRAY_VALUES:"Provided values must be within an array",NON_ARRAY_TYPES:"Provided type identifiers must be within an array",VALUE_TYPE_MISMATCH:"Provided values must match length of provided type identifiers"};e.Fatal=t.Fatal.getFatal("TypeChecker.Fatal",n)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.TypeChecker=window.ClassyJS.TypeChecker||{}),function(t,e){e.Controller=function(n){if(!(n instanceof t.Registry.Type))throw new e.Controller.Fatal("NO_TYPE_REGISTRY_PROVIDED","Provided type: "+typeof n);this._typeRegistry=n},e.Controller.prototype.canAccess=function(t,n,i){if("object"!=typeof t&&"function"!=typeof t)throw new e.Controller.Fatal("TARGET_NOT_INSTANCE_OR_CONSTRUCTOR","Provided type: "+typeof t);if("object"!=typeof n&&"function"!=typeof n&&void 0!==n)throw new e.Controller.Fatal("ACCESS_OBJECT_NOT_INSTANCE_OR_CONSTRUCTOR_OR_UNDEFINED","Provided type: "+typeof n);if("string"!=typeof i)throw new e.Controller.Fatal("ACCESS_IDENTIFIER_NOT_STRING","Provided type: "+typeof i);if(["public","private","protected"].indexOf(i)<0)throw new e.Controller.Fatal("ACCESS_IDENTIFIER_NOT_VALID_STRING","Provided identifier: "+i);return"function"==typeof t&&"object"==typeof n&&(n=n.constructor),"public"==i?!0:n?t===n?!0:"private"==i?!1:this._typeRegistry.isSameObject(t,n):!1}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Access=window.ClassyJS.Access||{}),function(t,e,n){var i={NO_TYPE_REGISTRY_PROVIDED:"An instance of ClassyJS.Registry.Type must be provided to the constructor",TARGET_NOT_INSTANCE_OR_CONSTRUCTOR:"Provided target object should either be an object instance or constructor function",ACCESS_OBJECT_NOT_INSTANCE_OR_CONSTRUCTOR_OR_UNDEFINED:"Provided access object must be a class instance or constructor or undefined",ACCESS_IDENTIFIER_NOT_STRING:"Provided access identifier must be a string",ACCESS_IDENTIFIER_NOT_VALID_STRING:"Provided access identifier must be one of the strings 'public', 'private' or 'protected'"};n.Fatal=t.Fatal.getFatal("Access.Controller.Fatal",i)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Access=window.ClassyJS.Access||{},window.ClassyJS.Access.Controller=window.ClassyJS.Access.Controller||{}),function(t,e){e.Class=function(n,i,a,o){if(!(n instanceof t.Type.Class.Definition))throw new e.Class.Fatal("NO_DEFINITION_PROVIDED","Provided type: "+typeof n);if(!(i instanceof t.Registry.Type))throw new e.Class.Fatal("NO_TYPE_REGISTRY_PROVIDED","Provided type: "+typeof i);if(!(a instanceof t.Registry.Member))throw new e.Class.Fatal("NO_MEMBER_REGISTRY_PROVIDED","Provided type: "+typeof a);if(!(o instanceof t.NamespaceManager))throw new e.Class.Fatal("NO_NAMESPACE_MANAGER_PROVIDED","Provided type: "+typeof o);this._definition=n,this._typeRegistry=i,this._memberRegistry=a,this._namespaceManager=o},e.Class.prototype.getName=function(){return this._definition.getName()},e.Class.prototype.isExtension=function(){return this._definition.isExtension()},e.Class.prototype.getParentClass=function(){if(!this.isExtension())throw new e.Class.Fatal("NO_PARENT_CLASS_RELATIONSHIP");return this._definition.getParentClass()},e.Class.prototype.getInterfaces=function(){return this._definition.getInterfaces()},e.Class.prototype.requestInstantiation=function(){if(this._definition.isAbstract())throw new t.Type.Class.Fatal("CANNOT_INSTANTIATE_ABSTRACT_CLASS");if(this._memberRegistry.hasAbstractMembers(this))throw new t.Type.Class.Fatal("CANNOT_INSTANTIATE_CLASS_WITH_ABSTRACT_MEMBERS");if(this._memberRegistry.hasUnimplementedInterfaceMembers(this))throw new t.Type.Class.Fatal("CANNOT_INSTANTIATE_CLASS_WITH_UNIMPLEMENTED_INTERFACE_MEMBERS")}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Type=window.ClassyJS.Type||{}),function(ClassyJS,Type,_){_.Constructor=function(typeRegistry,memberRegistry,fullClassName){var classNameParts=fullClassName.split("."),className=classNameParts.pop(),namespace={};for(var i in classNameParts)if("undefined"==typeof namespace[classNameParts[i]]&&(namespace[classNameParts[i]]={}),namespace=namespace[classNameParts[i]],"undefined"==typeof rootNamespaceName)var rootNamespaceName=classNameParts[i],rootNamespaceValue=namespace;var Class=function(){if(arguments.callee.caller.toString()==arguments.callee.toString())var t=!1;else var t=!0;var e=typeRegistry.getClass(this);t&&e.requestInstantiation();var n=[],i=[];if(_appendMemberNames(n,i,e),t&&typeRegistry.hasParent(e)){for(var a=[],o=e,s=namespace[className];typeRegistry.hasParent(o);)o=typeRegistry.getParent(o),s=typeRegistry.getParent(s),a.push(s),_appendMemberNames(n,i,o);for(var r=[],c=0;c<a.length;c++)r[c]=new a[c];r.unshift(this),typeRegistry.registerClassInstance(r)}for(var c in n){var y=n[c].getName();this[y]=function(t,e){return function(n){var i=e.getTypeIdentifier();if("string"==i&&2==arguments.length){if("+="===n)return this.set(t,this.get(t)+arguments[1]);if("=+"===n)return this.set(t,arguments[1]+this.get(t))}else if("number"==i&&"string"==typeof n){var a=n.match(/^(\+|-)((?:\+|-)|[0-9]+)$/);if(a)return"+"==a[1]&&"+"==a[2]?this.set(t,this.get(t)+1):"-"==a[1]&&"-"==a[2]?this.set(t,this.get(t)-1):(n=this.get(t),n="+"==a[1]?n+parseInt(a[2]):n-parseInt(a[2]),this.set(t,n))}else if("string"==typeof n&&("array"==i||i.match(/^\[(.+)\]$/))){var a=n.match(/push|pop|shift|unshift/);if(a)return this.get(t)[a[0]].call(this.get(t),arguments[1])}return"undefined"!=typeof n?this.set(t,n):this.get(t)}}(y,n[c])}for(var c in i){var y=i[c].getName();this[y]=function(t){return function(){return memberRegistry.callMethod(this,arguments.callee.caller.$$localOwner,t,Array.prototype.slice.call(arguments,0))}}(y)}t&&this.construct&&this.construct.apply(this,Array.prototype.slice.call(arguments,0))};"undefined"!=typeof rootNamespaceName?(eval("var "+rootNamespaceName+" = rootNamespaceValue"),eval(fullClassName+" = "+Class.toString())):(eval("var "+className+" = "+Class.toString()),namespace[className]=eval(className)),namespace[className].prototype.get=function(t){return memberRegistry.getPropertyValue(this,arguments.callee.caller.caller.$$localOwner||{},t)},namespace[className].prototype.set=function(t,e){memberRegistry.setPropertyValue(this,arguments.callee.caller.caller.$$localOwner,t,e)},namespace[className].prototype.bind=function(t,e){memberRegistry.bindEvent(this,t,arguments.callee.caller.$$owner,e)},namespace[className].prototype.trigger=function(t,e){memberRegistry.triggerEvent(this,t,e)},namespace[className].prototype.proxyMethod=function(t){var e=arguments.callee.caller;return function(t,e,n){return function(){return t.$$owner=e,t.$$localOwner=n,t.apply(e,arguments)}}(t,e.$$owner,e.$$localOwner)};var _appendMemberNames=function(t,e,n){var i=memberRegistry.getMembers(n);for(var a in i)i[a]instanceof ClassyJS.Member.Property?t.push(i[a]):i[a]instanceof ClassyJS.Member.Method&&e.push(i[a])};return namespace[className]}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Type=window.ClassyJS.Type||{},window.ClassyJS.Type.Class=window.ClassyJS.Type.Class||{}),function(t,e,n,i){var a={ABSTRACT_CLASS_CANNOT_BE_INSTANTIATED:"Abstract class cannot be instantiated"};i.Fatal=t.Fatal.getFatal("Type.Class.Constructor.Fatal",a)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Type=window.ClassyJS.Type||{},window.ClassyJS.Type.Class=window.ClassyJS.Type.Class||{},window.ClassyJS.Type.Class.Constructor=window.ClassyJS.Type.Class.Constructor||{}),function(t,e,n){n.Definition=function(t){if("string"!=typeof t)throw new n.Definition.Fatal("NON_STRING_SIGNATURE","Provided type: "+typeof t);if(!t.match(/\bclass\b/))throw new n.Definition.Fatal("MISSING_KEYWORD_CLASS");var e=new RegExp("^(?:\\s+)?(?:(abstract)\\s+)?class\\s+([A-Z][A-Za-z0-9.]*)(?:\\s+extends\\s+([A-Z][A-Za-z0-9.]*))?(?:\\s+implements\\s+([A-Z][A-Za-z0-9., \\t]*))?(?:\\s+)?$"),i=e.exec(t);if(!i)throw new n.Definition.Fatal("SIGNATURE_NOT_RECOGNISED");this._isAbstract=i[1]?!0:!1,this._name=i[2],this._parent=i[3],this._interfaces=i[4]?i[4].replace(/\s+/g,"").split(","):[]},n.Definition.prototype.getName=function(){return this._name},n.Definition.prototype.isAbstract=function(){return this._isAbstract},n.Definition.prototype.isExtension=function(){return this._parent?!0:!1},n.Definition.prototype.getParentClass=function(){return this._parent},n.Definition.prototype.getInterfaces=function(){return this._interfaces}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Type=window.ClassyJS.Type||{},window.ClassyJS.Type.Class=window.ClassyJS.Type.Class||{}),function(t,e,n,i){var a={NON_STRING_SIGNATURE:"Signature must be provided as a string",MISSING_KEYWORD_CLASS:"Signature does not contain keywork 'class'",SIGNATURE_NOT_RECOGNISED:"Provided signature could not be understood"};i.Fatal=t.Fatal.getFatal("Type.Class.Definition.Fatal",a)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Type=window.ClassyJS.Type||{},window.ClassyJS.Type.Class=window.ClassyJS.Type.Class||{},window.ClassyJS.Type.Class.Definition=window.ClassyJS.Type.Class.Definition||{}),function(t,e,n,i){i.Factory=function(){},i.Factory.prototype.build=function(t){return new i(t)}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Type=window.ClassyJS.Type||{},window.ClassyJS.Type.Class=window.ClassyJS.Type.Class||{},window.ClassyJS.Type.Class.Definition=window.ClassyJS.Type.Class.Definition||{}),function(t,e,n){n.Factory=function(){},n.Factory.prototype.build=function(t,e,i,a){return new n(t,e,i,a)}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Type=window.ClassyJS.Type||{},window.ClassyJS.Type.Class=window.ClassyJS.Type.Class||{}),function(t,e,n){var i={NO_DEFINITION_PROVIDED:"An instance of ClassyJS.Type.Class.Definition must be provided to the constructor",NO_TYPE_REGISTRY_PROVIDED:"An instance of ClassyJS.Registry.Type must be provided to the constructor",NO_MEMBER_REGISTRY_PROVIDED:"An instance of ClassyJS.Registry.Member must be provided to the constructor",NO_NAMESPACE_MANAGER_PROVIDED:"An instance of ClassyJS.NamespaceManager must be provided to the constructor",NO_PARENT_CLASS_RELATIONSHIP:"Parent class was requested when no parent relationship exists",CANNOT_INSTANTIATE_ABSTRACT_CLASS:"Cannot instantiate a class marked explicitly as abstract",CANNOT_INSTANTIATE_CLASS_WITH_ABSTRACT_MEMBERS:"Cannot instantiate a class which contains abstract members",CANNOT_INSTANTIATE_CLASS_WITH_UNIMPLEMENTED_INTERFACE_MEMBERS:"Cannot instantiate a class with unimplemented interface members"};n.Fatal=t.Fatal.getFatal("Type.Class.Fatal",i)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Type=window.ClassyJS.Type||{},window.ClassyJS.Type.Class=window.ClassyJS.Type.Class||{}),function(t,e){e.Interface=function(t){this._definition=t},e.Interface.prototype.getName=function(){return this._definition.getName()}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Type=window.ClassyJS.Type||{}),function(t,e,n){n.Definition=function(t){if("string"!=typeof t)throw new n.Definition.Fatal("NON_STRING_SIGNATURE","Provided type: "+typeof t);if(!t.match(/\binterface\b/))throw new n.Definition.Fatal("MISSING_KEYWORD_INTERFACE");var e=new RegExp("^(?:\\s+)?interface(?:\\s+)?([A-Z](?:[A-Za-z0-9.]*)?)(?:\\s+)?$"),i=e.exec(t);if(!i)throw new n.Definition.Fatal("SIGNATURE_NOT_RECOGNISED");this._name=i[1]},n.Definition.prototype.getName=function(){return this._name}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Type=window.ClassyJS.Type||{},window.ClassyJS.Type.Interface=window.ClassyJS.Type.Interface||{}),function(t,e,n,i){var a={NON_STRING_SIGNATURE:"Signature must be provided as a string",MISSING_KEYWORD_INTERFACE:"Signature does not contain keywork 'interface'",SIGNATURE_NOT_RECOGNISED:"Provided signature could not be understood"};i.Fatal=t.Fatal.getFatal("Type.Interface.Fatal",a)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Type=window.ClassyJS.Type||{},window.ClassyJS.Type.Interface=window.ClassyJS.Type.Interface||{},window.ClassyJS.Type.Interface.Definition=window.ClassyJS.Type.Interface.Definition||{}),function(t,e,n,i){i.Factory=function(){},i.Factory.prototype.build=function(t){return new i(t)}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Type=window.ClassyJS.Type||{},window.ClassyJS.Type.Interface=window.ClassyJS.Type.Interface||{},window.ClassyJS.Type.Interface.Definition=window.ClassyJS.Type.Interface.Definition||{}),function(t,e,n){n.Factory=function(){},n.Factory.prototype.build=function(t){return new n(t)}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Type=window.ClassyJS.Type||{},window.ClassyJS.Type.Interface=window.ClassyJS.Type.Interface||{}),function(t,e){e.Factory=function(n,i,a,o,s,r){if(!(n instanceof t.Type.DefinitionFactory))throw new e.Factory.Fatal("NO_DEFINITION_FACTORY_PROVIDED","Provided type: "+typeof n);if(!(i instanceof t.Type.Class.Factory))throw new e.Factory.Fatal("NO_CLASS_FACTORY_PROVIDED","Provided type: "+typeof i);if(!(a instanceof t.Type.Interface.Factory))throw new e.Factory.Fatal("NO_INTERFACE_FACTORY_PROVIDED","Provided type: "+typeof a);if(!(o instanceof t.Registry.Type))throw new e.Factory.Fatal("NO_TYPE_REGISTRY_PROVIDED","Provided type: "+typeof o);if(!(s instanceof t.Registry.Member))throw new e.Factory.Fatal("NO_MEMBER_REGISTRY_PROVIDED","Provided type: "+typeof s);if(!(r instanceof t.NamespaceManager))throw new e.Factory.Fatal("NO_NAMESPACE_MANAGER_PROVIDED","Provided type: "+typeof r);this._typeDefinitionFactory=n,this._classFactory=i,this._interfaceFactory=a,this._typeRegistry=o,this._memberRegistry=s,this._namespaceManager=r},e.Factory.prototype.build=function(n){if("string"!=typeof n)throw new e.Factory.Fatal("NON_STRING_SIGNATURE_PROVIDED","Provided type: "+typeof n);if(""===n)throw new e.Factory.Fatal("EMPTY_STRING_SIGNATURE_PROVIDED");var i=this._typeDefinitionFactory.build(n);if(i instanceof e.Class.Definition){var a=this._classFactory.build(i,this._typeRegistry,this._memberRegistry,this._namespaceManager);if(!(a instanceof t.Type.Class))throw new e.Factory.Fatal("NON_CLASS_RETURNED_FROM_FACTORY","Returned type: "+typeof a);return a}if(i instanceof e.Interface.Definition){var o=this._interfaceFactory.build(i);if(!(o instanceof t.Type.Interface))throw new e.Factory.Fatal("NON_INTERFACE_RETURNED_FROM_FACTORY","Returned type: "+typeof o);return o}throw new e.Factory.Fatal("NON_DEFINITION_RETURNED_FROM_FACTORY","Returned type: "+typeof i)}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Type=window.ClassyJS.Type||{}),function(t,e,n){var i={NO_DEFINITION_FACTORY_PROVIDED:"No instance of ClassyJS.Type.DefinitionFactory was provided to the constructor",NO_CLASS_FACTORY_PROVIDED:"No instance of ClassyJS.Type.Class.Factory was provided to the constructor",NO_INTERFACE_FACTORY_PROVIDED:"No instance of ClassyJS.Type.Interface.Factory was provided to the constructor",NO_TYPE_REGISTRY_PROVIDED:"No instance of ClassyJS.Registry.Type was provided to the constructor",NO_MEMBER_REGISTRY_PROVIDED:"No instance of ClassyJS.Registry.Member was provided to the constructor",NO_NAMESPACE_MANAGER_PROVIDED:"No instance of ClassyJS.NamespaceManager was provided to the constructor",NON_STRING_SIGNATURE_PROVIDED:"Provided signature must be a string",EMPTY_STRING_SIGNATURE_PROVIDED:"Provided signature must not be an empty string",NON_DEFINITION_RETURNED_FROM_FACTORY:"Provided definition factory did not return an instance of ClassyJS.Type.Class.Definition or ClassyJS.Type.Interface.Definition",NON_CLASS_RETURNED_FROM_FACTORY:"Provided class factory did not return an instance of ClassyJS.Type.Class",NON_INTERFACE_RETURNED_FROM_FACTORY:"Provided interface factory did not return an instance of ClassyJS.Type.Interface"};n.Fatal=t.Fatal.getFatal("Type.Factory.Fatal",i)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Type=window.ClassyJS.Type||{},window.ClassyJS.Type.Factory=window.ClassyJS.Type.Factory||{}),function(t,e){e.DefinitionFactory=function(t,n){if(!(t instanceof e.Class.Definition.Factory))throw new e.DefinitionFactory.Fatal("CLASS_DEFINITION_FACTORY_NOT_PROVIDED","Provided type: "+typeof t);if(!(n instanceof e.Interface.Definition.Factory))throw new e.DefinitionFactory.Fatal("INTERFACE_DEFINITION_FACTORY_NOT_PROVIDED","Provided type: "+typeof n);this._classDefinitionFactory=t,this._interfaceDefinitionFactory=n},e.DefinitionFactory.prototype.build=function(t){if("string"!=typeof t)throw new e.DefinitionFactory.Fatal("NON_STRING_SIGNATURE","Provided type: "+typeof t);var n=t.match(/\bclass\b/),i=t.match(/\binterface\b/);if(n&&i||!n&&!i)throw new e.DefinitionFactory.Fatal("AMBIGUOUS_SIGNATURE","Signature: "+t);var a=n?this._classDefinitionFactory:this._interfaceDefinitionFactory,o=a.build(t);if("object"!=typeof o)throw new e.DefinitionFactory.Fatal("FACTORY_RETURNED_NON_OBJECT","Returned type: "+typeof o);return o}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Type=window.ClassyJS.Type||{}),function(t,e,n){var i={CLASS_DEFINITION_FACTORY_NOT_PROVIDED:"Instance of Type.Class.Definition.Factory must be provided to the constructor",INTERFACE_DEFINITION_FACTORY_NOT_PROVIDED:"Instance of Type.Interface.Definition.Factory must be provided to the constructor",NON_STRING_SIGNATURE:"Provided signature must be a string",AMBIGUOUS_SIGNATURE:"Signature could not be identified as class or interface",FACTORY_RETURNED_NON_OBJECT:"The selected downstream factory did not return an object"};n.Fatal=t.Fatal.getFatal("Type.DefinitionFactory.Fatal",i)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Type=window.ClassyJS.Type||{},window.ClassyJS.Type.DefinitionFactory=window.ClassyJS.Type.DefinitionFactory||{}),function(t,e){e.Property=function(n,i,a,o,s){if(!(n instanceof t.Member.Property.Definition))throw new e.Property.Fatal("NO_DEFINITION_PROVIDED","Provided type: "+typeof n);if(i!==!1)throw new e.Property.Fatal("PROPERTY_CANNOT_BE_DEFINED_BY_INTERFACE");if("undefined"==typeof a)throw new e.Property.Fatal("NO_DEFAULT_VALUE_PROVIDED");if(!(o instanceof t.TypeChecker))throw new e.Property.Fatal("NO_TYPE_CHECKER_PROVIDED","Provided type: "+typeof o);if(!(s instanceof t.Access.Controller))throw new e.Property.Fatal("NO_ACCESS_CONTROLLER_PROVIDED","Provided type: "+typeof s);if(null!==a&&"undefined"!=typeof a&&""!==a){var r=n.getTypeIdentifier(),c=o.isValidType(a,r);if(c!==!0)throw new e.Property.Fatal("INVALID_DEFAULT_VALUE","Provided type: "+typeof a+"; Expected type: "+r)}this._definition=n,this._defaultValue=a,this._typeChecker=o,this._accessController=s},e.Property.prototype.getTypeIdentifier=function(){return this._definition.getTypeIdentifier()},e.Property.prototype.getAccessTypeIdentifier=function(){return this._definition.getAccessTypeIdentifier()},e.Property.prototype.getDefaultValue=function(t,e){if(t&&e&&n(this,t,e),"[object Array]"==Object.prototype.toString.call(this._defaultValue)){for(var i=[],a=0;a<this._defaultValue.length;a++)i.push(this._defaultValue[a]);return i}return this._defaultValue},e.Property.prototype.getName=function(){return this._definition.getName()},e.Property.prototype.set=function(t,e,a){return n(this,t,e),i(this,a),a},e.Property.prototype.get=function(t,e,a){return n(this,t,e),i(this,a),a};var n=function(t,n,i){if("object"!=typeof n)throw new e.Property.Fatal("NON_OBJECT_TARGET_INSTANCE_PROVIDED","Provided type: "+typeof n);var a=t._definition.getAccessTypeIdentifier(),o=t._accessController.canAccess(n,i,a);if(o!==!0)throw new e.Property.Fatal("ACCESS_NOT_ALLOWED","Access type: "+a)},i=function(t,n){var i=t._definition.getTypeIdentifier(),a=t._typeChecker.isValidType(n,i);if(a!==!0)throw new e.Property.Fatal("INVALID_TYPE","Allowed type: "+i+"; Provided type: "+typeof n)}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Member=window.ClassyJS.Member||{}),function(t,e,n){n.Definition=function(t){if("string"!=typeof t)throw new n.Definition.Fatal("NON_STRING_SIGNATURE","Provided type: "+typeof t);var e=new RegExp("^(?:\\s+)?(public|protected|private)\\s+([A-Za-z][A-Za-z0-9.]*)\\s+\\((?:\\s+)?([A-Za-z\\[][A-Za-z0-9.\\]|]*)(?:\\s+)?\\)(?:\\s+)?$"),i=e.exec(t);if(!i)throw new n.Definition.Fatal("SIGNATURE_NOT_RECOGNISED","Provided signature: "+t);this._name=i[2],this._accessTypeIdentifier=i[1],this._typeIdentifier=i[3]},n.Definition.prototype.getName=function(){return this._name},n.Definition.prototype.getAccessTypeIdentifier=function(){return this._accessTypeIdentifier},n.Definition.prototype.getTypeIdentifier=function(){return this._typeIdentifier}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Member=window.ClassyJS.Member||{},window.ClassyJS.Member.Property=window.ClassyJS.Member.Property||{}),function(t,e,n,i){var a={NON_STRING_SIGNATURE:"Signature must be provided as a string",SIGNATURE_NOT_RECOGNISED:"Provided signature could not be understood"};i.Fatal=t.Fatal.getFatal("Member.Property.Definition.Fatal",a)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Member=window.ClassyJS.Member||{},window.ClassyJS.Member.Property=window.ClassyJS.Member.Property||{},window.ClassyJS.Member.Property.Definition=window.ClassyJS.Member.Property.Definition||{}),function(t,e,n,i){i.Factory=function(){},i.Factory.prototype.build=function(t){return new i(t)}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Member=window.ClassyJS.Member||{},window.ClassyJS.Member.Property=window.ClassyJS.Member.Property||{},window.ClassyJS.Member.Property.Definition=window.ClassyJS.Member.Property.Definition||{}),function(t,e,n){n.Factory=function(){},n.Factory.prototype.build=function(t,e,i,a,o){return new n(t,e,i,a,o)}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Member=window.ClassyJS.Member||{},window.ClassyJS.Member.Property=window.ClassyJS.Member.Property||{}),function(t,e,n){var i={NO_DEFINITION_PROVIDED:"Instance of ClassyJS.Member.Property.Definition must be provided",PROPERTY_CANNOT_BE_DEFINED_BY_INTERFACE:"Constructor argument indicated that this property was defined within an interface. Properties cannot be defined within interfaces",NO_TYPE_CHECKER_PROVIDED:"Instance of ClassyJS.TypeChecker must be provided",NO_ACCESS_CONTROLLER_PROVIDED:"Instance of ClassyJS.Access.Controller must be provided",INVALID_DEFAULT_VALUE:"Value provided as default does not match type specified in the property signature",NO_DEFAULT_VALUE_PROVIDED:"Valid default value or null must be provided",NON_OBJECT_TARGET_INSTANCE_PROVIDED:"Instance provided as property owner must be an object",NON_OBJECT_ACCESS_INSTANCE_PROVIDED:"Instance provided as accessing property must be an object",ACCESS_NOT_ALLOWED:"Provided object instance is not permitted to execute the requested behaviour",INVALID_TYPE:"Property cannot be set to the provided type"};n.Fatal=t.Fatal.getFatal("Member.Property.Fatal",i)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Member=window.ClassyJS.Member||{},window.ClassyJS.Member.Property=window.ClassyJS.Member.Property||{}),function(t,e){e.Method=function(n,i,a,o,s){if(!(n instanceof t.Member.Method.Definition))throw new e.Method.Fatal("NO_DEFINITION_PROVIDED","Provided type: "+typeof n);if(!(o instanceof t.TypeChecker))throw new e.Method.Fatal("NO_TYPE_CHECKER_PROVIDED","Provided type: "+typeof o);if(!(s instanceof t.Access.Controller))throw new e.Method.Fatal("NO_ACCESS_CONTROLLER_PROVIDED","Provided type: "+typeof s);if(i===!0||n.isAbstract()===!0){if(null!==a&&"undefined"!=typeof a&&""!==a)throw new e.Method.Fatal("UNEXPECTED_IMPLEMENTATION");this._isAbstract=!0}else{if("function"!=typeof a)throw new e.Method.Fatal("NON_FUNCTION_IMPLEMENTATION","Provided type: "+typeof a);this._isAbstract=!1}for(var r=n.getArgumentTypeIdentifiers(),c=0;c<r.length;c++){if("undefined"===r[c])throw new e.Method.Fatal("UNDEFINED_ARGUMENT_TYPE");if("null"===r[c])throw new e.Method.Fatal("NULL_ARGUMENT_TYPE")}this._value=a,this._definition=n,this._typeChecker=o,this._accessController=s},e.Method.prototype.getName=function(){return this._definition.getName()},e.Method.prototype.getArgumentTypeIdentifiers=function(){return this._definition.getArgumentTypeIdentifiers()},e.Method.prototype.getReturnType=function(){return this._definition.getReturnTypeIdentifier()},e.Method.prototype.isStatic=function(){return this._definition.isStatic()},e.Method.prototype.isAbstract=function(){return this._isAbstract},e.Method.prototype.argumentIsOptional=function(t){return this._definition.argumentIsOptional(t)},e.Method.prototype.getDefaultArgumentValue=function(t){return this._definition.getDefaultArgumentValue(t)},e.Method.prototype.getAccessTypeIdentifier=function(){return this._definition.getAccessTypeIdentifier()},e.Method.prototype.call=function(t,n,i,a,o){if(this._isAbstract)throw new e.Method.Fatal("INTERACTION_WITH_ABSTRACT");if("object"!=typeof t&&"function"!=typeof t)throw new e.Method.Fatal("NON_OBJECT_OR_CONSTRUCTOR_TARGET_PROVIDED","Provided type: "+typeof t);if("object"!=typeof n&&"function"!=typeof n)throw new e.Method.Fatal("NON_OBJECT_OR_CONSTRUCTOR_LOCAL_TARGET_PROVIDED","Provided type: "+typeof n);if("[object Array]"!=Object.prototype.toString.call(a))throw new e.Method.Fatal("NON_ARRAY_ARGUMENTS_PROVIDED","Provided type: "+typeof a);if("undefined"!=typeof o&&"object"!=typeof o)throw new e.Method.Fatal("NON_OBJECT_SCOPE_VARIABLES","Provided type: "+typeof o);var s=this._accessController.canAccess(n,i,this._definition.getAccessTypeIdentifier());if(s!==!0)throw new e.Method.Fatal("ACCESS_NOT_ALLOWED");this._typeChecker.areValidTypes(a,this.getArgumentTypeIdentifiers());if(o){var r={};for(var c in o)"undefined"!=typeof window[c]&&(r[c]=window[c]),window[c]=o[c]}var y=this._value.$$owner,l=this._value.$$localOwner;this._value.$$owner=t,this._value.$$localOwner=n;var f=this._value.apply(t,a);if(this._value.$$owner=y,this._value.$$localOwner=l,o)for(var c in o)r[c]?window[c]=r[c]:delete window[c];var d=this._typeChecker.isValidType(f,this._definition.getReturnTypeIdentifier());if(d!==!0)throw new e.Method.Fatal("INVALID_RETURN_VALUE","Returned type: "+typeof f+"; Expected type: "+this._definition.getReturnTypeIdentifier());return f}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Member=window.ClassyJS.Member||{}),function(t,e,n){n.Definition=function(t){if("string"!=typeof t)throw new n.Definition.Fatal("NON_STRING_SIGNATURE","Provided type: "+typeof t);var e=new RegExp("^(?:\\s+)?(?:(static|abstract)(?:\\s+))?(?:(static|abstract)(?:\\s+))?(public|protected|private)\\s+(?:(static|abstract)(?:\\s+))?(?:(static|abstract)(?:\\s+))?([a-z][A-Za-z0-9.]*)(?:\\s+)?\\(([A-Za-z0-9,:.\\s\\[\\]{}?=|]*)\\)\\s+->\\s+([A-Za-z0-9.[\\]|]+)(?:\\s+)?$"),i=e.exec(t);if(!i)throw new n.Definition.Fatal("SIGNATURE_NOT_RECOGNISED","Provided signature: "+t);this._name=i[6],this._accessTypeIdentifier=i[3],this._returnTypeIdentifier=i[8];var a=[i[1],i[2],i[4],i[5]];if(this._isStatic=a.indexOf("static")>-1?!0:!1,this._isAbstract=a.indexOf("abstract")>-1?!0:!1,""==i[7])this._argumentTypeIdentifiers=[],this._argumentDefaultValues=[];else{var o=i[7].replace(/\s+/g,"").split(",");this._argumentTypeIdentifiers=[],this._argumentDefaultValues=[];for(var s=new RegExp("^(?:[A-Za-z0-9.\\[\\]]*(\\?)|(string|number|boolean|object|array|\\[[A-Za-z0-9.]+\\])\\s*=\\s*([A-Za-z0-9.{}\\[\\]]+))$"),r=!1,c=0;c<o.length;c++){var y=s.exec(o[c]);if(null===y){if(r)throw new n.Definition.Fatal("INVALID_ARGUMENT_ORDER","Provided signature: "+t);this._argumentTypeIdentifiers.push(o[c]),this._argumentDefaultValues.push(void 0)}else if(y[1])r=!0,this._argumentTypeIdentifiers.push(o[c].substr(0,o[c].length-1)),this._argumentDefaultValues.push(null);else if(y[2]&&y[3]){r=!0;var l=y[2],f=y[3];if("string"==l)this._argumentTypeIdentifiers.push(l),this._argumentDefaultValues.push(f);else if("number"==l){if(parseFloat(f)+""!==f)var d=!0;this._argumentTypeIdentifiers.push(l),this._argumentDefaultValues.push(parseFloat(f))
}else if("boolean"==l)if(this._argumentTypeIdentifiers.push(l),"true"==f)this._argumentDefaultValues.push(!0);else if("false"==f)this._argumentDefaultValues.push(!1);else var d=!0;else if("array"==l||l.match(/^\[[A-Za-z0-9.]+\]$/))if("[]"==f)this._argumentTypeIdentifiers.push(l),this._argumentDefaultValues.push([]);else var d=!0;else if("object"==l)if("{}"==f)this._argumentTypeIdentifiers.push(l),this._argumentDefaultValues.push({});else var d=!0;else var d=!0;if(d)throw new n.Definition.Fatal("INVALID_ARGUMENT_DEFAULT","Argument type: "+l+"; Provided value: "+f)}}}},n.Definition.prototype.getName=function(){return this._name},n.Definition.prototype.getAccessTypeIdentifier=function(){return this._accessTypeIdentifier},n.Definition.prototype.isStatic=function(){return this._isStatic},n.Definition.prototype.isAbstract=function(){return this._isAbstract},n.Definition.prototype.getArgumentTypeIdentifiers=function(){return this._argumentTypeIdentifiers},n.Definition.prototype.getReturnTypeIdentifier=function(){return this._returnTypeIdentifier},n.Definition.prototype.argumentIsOptional=function(t){return void 0!==this._argumentDefaultValues[t]},n.Definition.prototype.getDefaultArgumentValue=function(t){return this._argumentDefaultValues[t]}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Member=window.ClassyJS.Member||{},window.ClassyJS.Member.Method=window.ClassyJS.Member.Method||{}),function(t,e,n,i){var a={NON_STRING_SIGNATURE:"Signature must be provided as a string",SIGNATURE_NOT_RECOGNISED:"Provided signature could not be understood",INVALID_ARGUMENT_ORDER:"Optional method arguments must be defined after non-optional arguments",INVALID_ARGUMENT_DEFAULT:"The provided default value for an optional argument is not valid"};i.Fatal=t.Fatal.getFatal("Member.Method.Definition.Fatal",a)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Member=window.ClassyJS.Member||{},window.ClassyJS.Member.Method=window.ClassyJS.Member.Method||{},window.ClassyJS.Member.Method.Definition=window.ClassyJS.Member.Method.Definition||{}),function(t,e,n,i){i.Factory=function(){},i.Factory.prototype.build=function(t){return new i(t)}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Member=window.ClassyJS.Member||{},window.ClassyJS.Member.Method=window.ClassyJS.Member.Method||{},window.ClassyJS.Member.Method.Definition=window.ClassyJS.Member.Method.Definition||{}),function(t,e,n){n.Factory=function(){},n.Factory.prototype.build=function(t,e,i,a,o){return new n(t,e,i,a,o)}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Member=window.ClassyJS.Member||{},window.ClassyJS.Member.Method=window.ClassyJS.Member.Method||{}),function(t,e,n){var i={NO_DEFINITION_PROVIDED:"Instance of ClassyJS.Member.Method.Definition must be provided",NO_TYPE_CHECKER_PROVIDED:"Instance of ClassyJS.TypeChecker must be provided",NO_ACCESS_CONTROLLER_PROVIDED:"Instance of ClassyJS.Access.Controller must be provided",UNDEFINED_ARGUMENT_TYPE:"Arguments cannot be defined as type undefined",NULL_ARGUMENT_TYPE:"Arguments cannot be defined as type null",NON_OBJECT_OR_CONSTRUCTOR_TARGET_PROVIDED:"Argument provided as property owner must be an object or constructor",NON_OBJECT_OR_CONSTRUCTOR_LOCAL_TARGET_PROVIDED:"Argument provided as property local owner must be an object or constructor",NON_ARRAY_ARGUMENTS_PROVIDED:"Provided arguments must be within array",ACCESS_NOT_ALLOWED:"Provided object instance is not permitted to call method",INVALID_ARGUMENTS:"Provided arguments are not valid",INVALID_RETURN_VALUE:"Returned value is not valid",UNEXPECTED_IMPLEMENTATION:"Abstract or interface method should not provide an implementation",NON_FUNCTION_IMPLEMENTATION:"implementation must be provided as a function",INTERACTION_WITH_ABSTRACT:"This instance cannot be called as it is abstract",NON_OBJECT_SCOPE_VARIABLES:"Provided scope variables must be object"};n.Fatal=t.Fatal.getFatal("Member.Method.Fatal",i)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Member=window.ClassyJS.Member||{},window.ClassyJS.Member.Method=window.ClassyJS.Member.Method||{}),function(t,e){e.Event=function(n,i,a,o,s){if(!(n instanceof t.Member.Event.Definition))throw new e.Event.Fatal("NO_DEFINITION_PROVIDED","Provided type: "+typeof n);if(!(o instanceof t.TypeChecker))throw new e.Event.Fatal("NO_TYPE_CHECKER_PROVIDED","Provided type: "+typeof o);if(!(s instanceof t.Access.Controller))throw new e.Event.Fatal("NO_ACCESS_CONTROLLER_PROVIDED","Provided type: "+typeof s);if(null!==a&&void 0!==a&&""!==a)throw new e.Event.Fatal("INVALID_VALUE_PROVIDED","Provided type: "+typeof a);for(var r=n.getArgumentTypeIdentifiers(),c=0;c<r.length;c++){if("undefined"===r[c])throw new e.Event.Fatal("UNDEFINED_ARGUMENT_TYPE");if("null"===r[c])throw new e.Event.Fatal("NULL_ARGUMENT_TYPE")}this._definition=n,this._isAbstract=i,this._typeChecker=o,this._accessController=s},e.Event.prototype.getName=function(){return this._definition.getName()},e.Event.prototype.getArgumentTypeIdentifiers=function(){return this._definition.getArgumentTypeIdentifiers()},e.Event.prototype.getAccessTypeIdentifier=function(){return this._definition.getAccessTypeIdentifier()},e.Event.prototype.requestBind=function(t,n){if(this._isAbstract)throw new e.Event.Fatal("INTERACTION_WITH_ABSTRACT");if("object"!=typeof t)throw new e.Event.Fatal("NON_OBJECT_TARGET_INSTANCE_PROVIDED","Provided type: "+typeof t);if("object"!=typeof n)throw new e.Event.Fatal("NON_OBJECT_ACCESS_INSTANCE_PROVIDED","Provided type: "+typeof n);var i=this._definition.getAccessTypeIdentifier(),a=this._accessController.canAccess(t,n,i);if(a!==!0)throw new e.Event.Fatal("ACCESS_NOT_ALLOWED","Access type: "+i);return this._accessController.canAccess(t,n,this._definition.getAccessTypeIdentifier()),!0},e.Event.prototype.trigger=function(n,i){if(this._isAbstract)throw new e.Event.Fatal("INTERACTION_WITH_ABSTRACT");if("[object Array]"!=Object.prototype.toString.call(n))throw new e.Event.Fatal("NON_ARRAY_CALLBACKS_PROVIDED","Provided type: "+typeof n);for(var a in n){if("[object Array]"!=Object.prototype.toString.call(n[a]))throw new e.Event.Fatal("NON_ARRAY_CALLBACK_PROVIDED","Provided type: "+typeof n[a]);if("object"!=typeof n[a][0])throw new e.Event.Fatal("NON_OBJECT_CALLBACK_INSTANCE","Provided type: "+typeof n[a][0]);if(!(n[a][1]instanceof t.Member.Method))throw new e.Event.Fatal("INVALID_CALLBACK_METHOD","Provided type: "+typeof n[a][1])}if("[object Array]"!=Object.prototype.toString.call(i))throw new e.Event.Fatal("NON_ARRAY_ARGUMENTS_PROVIDED","Provided type: "+typeof i);var o=this._typeChecker.areValidTypes(i,this._definition.getArgumentTypeIdentifiers());if(o!==!0)throw new e.Event.Fatal("INVALID_ARGUMENTS");for(var a in n)n[a][1].call(n[a][0],n[a][0],n[a][0],i)}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Member=window.ClassyJS.Member||{}),function(t,e,n){n.Definition=function(t){if("string"!=typeof t)throw new n.Definition.Fatal("NON_STRING_SIGNATURE","Provided type: "+typeof t);var e=new RegExp("^(?:\\s+)?(public|protected)\\s+event\\s+([a-z][A-Za-z0-9]*)(?:\\s+)?\\(([A-Za-z0-9,.\\s\\[\\]|]*)\\)(?:\\s+)?$"),i=e.exec(t);if(!i)throw new n.Definition.Fatal("SIGNATURE_NOT_RECOGNISED","Provided signature: "+t);if(this._name=i[2],this._accessTypeIdentifier=i[1],this._argumentTypeIdentifiers=[],""!=i[3]){var a=i[3].replace(/\s+/g,"").split(",");for(var o in a){if(!a[o].match(/^[A-Za-z0-9.\[\]|]+$/))throw new n.Definition.Fatal("SIGNATURE_NOT_RECOGNISED","Provided signature: "+t);this._argumentTypeIdentifiers.push(a[o])}}},n.Definition.prototype.getName=function(){return this._name},n.Definition.prototype.getAccessTypeIdentifier=function(){return this._accessTypeIdentifier},n.Definition.prototype.getArgumentTypeIdentifiers=function(){return this._argumentTypeIdentifiers}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Member=window.ClassyJS.Member||{},window.ClassyJS.Member.Event=window.ClassyJS.Member.Event||{}),function(t,e,n,i){var a={NON_STRING_SIGNATURE:"Signature must be provided as a string",SIGNATURE_NOT_RECOGNISED:"Provided signature could not be understood"};i.Fatal=t.Fatal.getFatal("Member.Event.Definition.Fatal",a)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Member=window.ClassyJS.Member||{},window.ClassyJS.Member.Event=window.ClassyJS.Member.Event||{},window.ClassyJS.Member.Event.Definition=window.ClassyJS.Member.Event.Definition||{}),function(t,e,n,i){i.Factory=function(){},i.Factory.prototype.build=function(t){return new i(t)}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Member=window.ClassyJS.Member||{},window.ClassyJS.Member.Event=window.ClassyJS.Member.Event||{},window.ClassyJS.Member.Event.Definition=window.ClassyJS.Member.Event.Definition||{}),function(t,e,n){n.Factory=function(){},n.Factory.prototype.build=function(t,e,i,a,o){return new n(t,e,i,a,o)}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Member=window.ClassyJS.Member||{},window.ClassyJS.Member.Event=window.ClassyJS.Member.Event||{}),function(t,e,n){var i={NO_DEFINITION_PROVIDED:"Instance of ClassyJS.Member.Event.Definition must be provided",NO_TYPE_CHECKER_PROVIDED:"Instance of ClassyJS.TypeChecker must be provided",NO_ACCESS_CONTROLLER_PROVIDED:"Instance of ClassyJS.Access.Controller must be provided",INVALID_VALUE_PROVIDED:"Event value must be undefined, null or empty string",UNDEFINED_ARGUMENT_TYPE:"Arguments cannot be defined as type undefined",NULL_ARGUMENT_TYPE:"Arguments cannot be defined as type null",NON_OBJECT_TARGET_INSTANCE_PROVIDED:"Instance provided as property owner must be an object",NON_OBJECT_ACCESS_INSTANCE_PROVIDED:"Instance provided as accessing property must be an object",ACCESS_NOT_ALLOWED:"Provided object instance is not permitted to execute the requested behaviour",NON_ARRAY_CALLBACKS_PROVIDED:"Provided method callbacks are not provided within an array",NON_ARRAY_CALLBACK_PROVIDED:"Provided method callback is not provided as an array",NON_OBJECT_CALLBACK_INSTANCE:"Provided callback object instance is not an object",INVALID_CALLBACK_METHOD:"Provided callback method is not instance of ClassyJS.Member.Method",NON_ARRAY_ARGUMENTS_PROVIDED:"Provided arguments are not provided within an array",INVALID_ARGUMENTS:"The method arguments provided to trigger are not valid",INTERACTION_WITH_ABSTRACT:"This instance cannot be bound or triggered as it is abstract"};n.Fatal=t.Fatal.getFatal("Member.Event.Fatal",i)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Member=window.ClassyJS.Member||{},window.ClassyJS.Member.Event=window.ClassyJS.Member.Event||{}),function(t,e){e.Constant=function(i,a,o,s,r){if(!(i instanceof t.Member.Constant.Definition))throw new e.Constant.Fatal("NO_DEFINITION_PROVIDED","Provided type: "+typeof i);if(a!==!1)throw new e.Constant.Fatal("IS_FROM_INTERFACE");if(!(s instanceof t.TypeChecker))throw new e.Constant.Fatal("NO_TYPE_CHECKER_PROVIDED","Provided type: "+typeof s);if(!(r instanceof t.Access.Controller))throw new e.Constant.Fatal("NO_ACCESS_CONTROLLER_PROVIDED","Provided type: "+typeof r);if(-1==["undefined","string","number"].indexOf(typeof o))throw new e.Constant.Fatal("INVALID_VALUE_TYPE","Provided type: "+typeof o);if("undefined"!=typeof o){var c=i.getTypeIdentifier(),y=s.isValidType(o,c);if(y!==!0)throw new e.Constant.Fatal("INVALID_VALUE","Constant type: "+c);this._isAutoGenerated=!1}else o=n(i.getTypeIdentifier()),this._isAutoGenerated=!0;this._value=o,this._definition=i,this._accessController=r},e.Constant.prototype.getName=function(){return this._definition.getName()},e.Constant.prototype.getAccessTypeIdentifier=function(){return this._definition.getAccessTypeIdentifier()},e.Constant.prototype.getTypeIdentifier=function(){return this._definition.getTypeIdentifier()},e.Constant.prototype.isAutoGenerated=function(){return this._isAutoGenerated},e.Constant.prototype.get=function(t,n){if(t&&n){if("function"!=typeof t)throw new e.Constant.Fatal("NON_FUNCTION_TARGET_CONSTRUCTOR_PROVIDED","Provided type: "+typeof t);var i=this._accessController.canAccess(t,n,this._definition.getAccessTypeIdentifier());if(i!==!0)throw new e.Constant.Fatal("ACCESS_NOT_ALLOWED")}return this._value};var n=function(t){if("string"==t){for(var e="",n=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","0","1","2","3","4","5","6","7","8","9"],i=0;32>i;i++){var a=Math.floor(26*Math.random());e+=n[a]}return e}return"number"==t?Math.floor(9007199254740992*Math.random()):void 0}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Member=window.ClassyJS.Member||{}),function(t,e,n){n.Definition=function(t){if("string"!=typeof t)throw new n.Definition.Fatal("NON_STRING_SIGNATURE","Provided type: "+typeof t);var e=new RegExp("^(?:\\s+)?(public|protected|private)\\s+constant\\s+([A-Z][A-Z_]*)(?:\\s+\\((?:\\s+)?([A-Za-z0-9.-\\[\\]]+)(?:\\s+)?\\))?(?:\\s+)?$"),i=e.exec(t);if(!i)throw new n.Definition.Fatal("SIGNATURE_NOT_RECOGNISED","Provided signature: "+t);this._name=i[2],this._accessTypeIdentifier=i[1],this._typeIdentifier=i[3]},n.Definition.prototype.getName=function(){return this._name},n.Definition.prototype.getAccessTypeIdentifier=function(){return this._accessTypeIdentifier},n.Definition.prototype.getTypeIdentifier=function(){return this._typeIdentifier}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Member=window.ClassyJS.Member||{},window.ClassyJS.Member.Constant=window.ClassyJS.Member.Constant||{}),function(t,e,n,i){var a={};i.Fatal=t.Fatal.getFatal("Member.Constant.Definition.Fatal",a)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Member=window.ClassyJS.Member||{},window.ClassyJS.Member.Constant=window.ClassyJS.Member.Constant||{},window.ClassyJS.Member.Constant.Definition=window.ClassyJS.Member.Constant.Definition||{}),function(t,e,n,i){i.Factory=function(){},i.Factory.prototype.build=function(t){return new i(t)}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Member=window.ClassyJS.Member||{},window.ClassyJS.Member.Constant=window.ClassyJS.Member.Constant||{},window.ClassyJS.Member.Constant.Definition=window.ClassyJS.Member.Constant.Definition||{}),function(t,e,n){n.Factory=function(){},n.Factory.prototype.build=function(t,e,i,a,o){return new n(t,e,i,a,o)}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Member=window.ClassyJS.Member||{},window.ClassyJS.Member.Constant=window.ClassyJS.Member.Constant||{}),function(t,e,n){var i={NO_DEFINITION_PROVIDED:"Instance of ClassyJS.Member.Constant.Definition must be provided",IS_FROM_INTERFACE:"Constants cannot be abstract and therefore cannot be declared within an interface",NO_TYPE_CHECKER_PROVIDED:"Instance of ClassyJS.TypeChecker must be provided",NO_ACCESS_CONTROLLER_PROVIDED:"Instance of ClassyJS.Access.Controller must be provided",INVALID_VALUE_TYPE:"Value must be string, number or undefined",INVALID_VALUE:"Provided value did not match constant type",NON_FUNCTION_TARGET_CONSTRUCTOR_PROVIDED:"Constructor provided as property owner must be a function",NON_OBJECT_ACCESS_INSTANCE_PROVIDED:"Instance provided as accessing property must be an object",INVALID_TYPE:"Constant cannot be set to the provided type",ACCESS_NOT_ALLOWED:"Provided object instance is not permitted to access the constant value"};n.Fatal=t.Fatal.getFatal("Member.Constant.Fatal",i)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Member=window.ClassyJS.Member||{},window.ClassyJS.Member.Constant=window.ClassyJS.Member.Constant||{}),function(t,e){e.Factory=function(n,i,a,o,s,r,c){if(!(n instanceof t.Member.DefinitionFactory))throw new e.Factory.Fatal("NO_DEFINITION_FACTORY_PROVIDED","Provided type: "+typeof n);if(!(i instanceof t.Member.Property.Factory))throw new e.Factory.Fatal("NO_PROPERTY_FACTORY_PROVIDED","Provided type: "+typeof i);if(!(a instanceof t.Member.Method.Factory))throw new e.Factory.Fatal("NO_METHOD_FACTORY_PROVIDED","Provided type: "+typeof a);if(!(o instanceof t.Member.Event.Factory))throw new e.Factory.Fatal("NO_EVENT_FACTORY_PROVIDED","Provided type: "+typeof o);if(!(s instanceof t.Member.Constant.Factory))throw new e.Factory.Fatal("NO_CONSTANT_FACTORY_PROVIDED","Provided type: "+typeof s);if(!(r instanceof t.TypeChecker))throw new e.Factory.Fatal("NO_TYPE_CHECKER_PROVIDED","Provided type: "+typeof r);if(!(c instanceof t.Access.Controller))throw new e.Factory.Fatal("NO_ACCESS_CONTROLLER_PROVIDED","Provided type: "+typeof c);this._memberDefinitionFactory=n,this._propertyFactory=i,this._methodFactory=a,this._eventFactory=o,this._constantFactory=s,this._typeChecker=r,this._accessController=c},e.Factory.prototype.build=function(n,i,a){if("string"!=typeof n)throw new e.Factory.Fatal("NON_STRING_SIGNATURE_PROVIDED","Provided type: "+typeof n);if(""===n)throw new e.Factory.Fatal("EMPTY_STRING_SIGNATURE_PROVIDED");if("boolean"!=typeof i)throw new e.Factory.Fatal("NON_BOOLEAN_INTERFACE_INDICATOR_PROVIDED","Provided type: "+typeof i);var o=this._memberDefinitionFactory.build(n);if(o instanceof e.Property.Definition){var s=this._propertyFactory.build(o,i,a,this._typeChecker,this._accessController);if(!(s instanceof t.Member.Property))throw new e.Factory.Fatal("NON_PROPERTY_RETURNED_FROM_FACTORY","Returned type: "+typeof s);return s}if(o instanceof e.Method.Definition){var r=this._methodFactory.build(o,i,a,this._typeChecker,this._accessController);if(!(r instanceof t.Member.Method))throw new e.Factory.Fatal("NON_METHOD_RETURNED_FROM_FACTORY","Returned type: "+typeof r);return r}if(o instanceof e.Event.Definition){var c=this._eventFactory.build(o,i,void 0,this._typeChecker,this._accessController);if(!(c instanceof t.Member.Event))throw new e.Factory.Fatal("NON_EVENT_RETURNED_FROM_FACTORY","Returned type: "+typeof c);return c}if(o instanceof e.Constant.Definition){var y=this._constantFactory.build(o,i,a,this._typeChecker,this._accessController);if(!(y instanceof t.Member.Constant))throw new e.Factory.Fatal("NON_CONSTANT_RETURNED_FROM_FACTORY","Returned type: "+typeof y);return y}throw new e.Factory.Fatal("NON_DEFINITION_RETURNED_FROM_FACTORY","Returned type: "+typeof o)}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Member=window.ClassyJS.Member||{}),function(t,e,n){var i={NO_DEFINITION_FACTORY_PROVIDED:"No instance of ClassyJS.Member.DefinitionFactory was provided to the constructor",NO_PROPERTY_FACTORY_PROVIDED:"No instance of ClassyJS.Member.Property.Factory was provided to the constructor",NO_METHOD_FACTORY_PROVIDED:"No instance of ClassyJS.Member.Method.Factory was provided to the constructor",NO_EVENT_FACTORY_PROVIDED:"No instance of ClassyJS.Member.Event.Factory was provided to the constructor",NO_CONSTANT_FACTORY_PROVIDED:"No instance of ClassyJS.Member.Constant.Factory was provided to the constructor",NO_TYPE_CHECKER_PROVIDED:"No instance of ClassyJS.TypeChecker was provided to the constructor",NO_ACCESS_CONTROLLER_PROVIDED:"No instance of ClassyJS.Access.Controller was provided to the constructor",NON_STRING_SIGNATURE_PROVIDED:"Provided signature must be a string",EMPTY_STRING_SIGNATURE_PROVIDED:"Provided signature must not be an empty string",NON_BOOLEAN_INTERFACE_INDICATOR_PROVIDED:"Argument provided to indicate whether the member is defined within an interface must be a boolean",NON_DEFINITION_RETURNED_FROM_FACTORY:"Provided definition factory did not return a member definition object",NON_PROPERTY_RETURNED_FROM_FACTORY:"Provided property factory did not return an instance of ClassyJS.Member.Property",NON_METHOD_RETURNED_FROM_FACTORY:"Provided method factory did not return an instance of ClassyJS.Member.Method",NON_EVENT_RETURNED_FROM_FACTORY:"Provided event factory did not return an instance of ClassyJS.Member.Event",NON_CONSTANT_RETURNED_FROM_FACTORY:"Provided constant factory did not return an instance of ClassyJS.Member.Constant"};n.Fatal=t.Fatal.getFatal("Member.Factory.Fatal",i)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Member=window.ClassyJS.Member||{},window.ClassyJS.Member.Factory=window.ClassyJS.Member.Factory||{}),function(t,e){e.DefinitionFactory=function(t,n,i,a){if(!(t instanceof e.Property.Definition.Factory))throw new e.DefinitionFactory.Fatal("PROPERTY_DEFINITION_FACTORY_NOT_PROVIDED");if(!(n instanceof e.Method.Definition.Factory))throw new e.DefinitionFactory.Fatal("METHOD_DEFINITION_FACTORY_NOT_PROVIDED");if(!(i instanceof e.Event.Definition.Factory))throw new e.DefinitionFactory.Fatal("EVENT_DEFINITION_FACTORY_NOT_PROVIDED");if(!(a instanceof e.Constant.Definition.Factory))throw new e.DefinitionFactory.Fatal("CONSTANT_DEFINITION_FACTORY_NOT_PROVIDED");this._propertyDefinitionFactory=t,this._methodDefinitionFactory=n,this._eventDefinitionFactory=i,this._constantDefinitionFactory=a},e.DefinitionFactory.prototype.build=function(n){if("string"!=typeof n)throw new e.DefinitionFactory.Fatal("NON_STRING_SIGNATURE","Provided type: "+typeof n);var i=["Property","Method","Event","Constant"];for(var a in i)try{var o=this["_"+i[a].toLowerCase()+"DefinitionFactory"],s=o.build(n);if("object"!=typeof s)throw new e.DefinitionFactory.Fatal("FACTORY_RETURNED_NON_OBJECT","Returned type: "+typeof s);break}catch(r){if(!(r instanceof t.Member[i[a]].Definition.Fatal)||"SIGNATURE_NOT_RECOGNISED"!=r.code)throw r}if("undefined"==typeof s)throw new e.DefinitionFactory.Fatal("INVALID_SIGNATURE","Provided signature: "+n);return s}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Member=window.ClassyJS.Member||{}),function(t,e,n){var i={PROPERTY_DEFINITION_FACTORY_NOT_PROVIDED:"Instance of Member.Property.Definition.Factory must be provided to the constructor",METHOD_DEFINITION_FACTORY_NOT_PROVIDED:"Instance of Member.Method.Definition.Factory must be provided to the constructor",EVENT_DEFINITION_FACTORY_NOT_PROVIDED:"Instance of Member.Event.Definition.Factory must be provided to the constructor",CONSTANT_DEFINITION_FACTORY_NOT_PROVIDED:"Instance of Member.Constant.Definition.Factory must be provided to the constructor",NON_STRING_SIGNATURE:"Signature must be provided as a string",INVALID_SIGNATURE:"Provided signature could not be understood by any of the available member definition classes"};n.Fatal=t.Fatal.getFatal("Member.DefinitionFactory.Fatal",i)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Member=window.ClassyJS.Member||{},window.ClassyJS.Member.DefinitionFactory=window.ClassyJS.Member.DefinitionFactory||{}),function(t,e){e.Type=function(n){if(!(n instanceof t.NamespaceManager))throw new e.Type.Fatal("NON_NAMESPACE_MANAGER_PROVIDED","Provided type: "+typeof n);this._classes=[],this._instances=[],this._interfaces={},this._mocks=[],this._namespaceManager=n},e.Type.prototype.registerClass=function(n,a){if(!(n instanceof t.Type.Class))throw new e.Type.Fatal("NON_CLASS_OBJECT_PROVIDED","Provided type: "+typeof n);if("function"!=typeof a)throw new e.Type.Fatal("NON_CLASS_CONSTRUCTOR_PROVIDED","Provided type: "+typeof a);if(i(this,n))throw new e.Type.Fatal("CLASS_ALREADY_REGISTERED");this._classes.push({classObject:n,constructor:a,interfaces:[],parentClassName:void 0})},e.Type.prototype.registerClassChild=function(a,o){if("string"!=typeof a)throw new e.Type.Fatal("NON_STRING_PARENT_PROVIDED","Provided type: "+typeof a);if(!(o instanceof t.Type.Class))throw new e.Type.Fatal("NON_CLASS_OBJECT_PROVIDED","Provided type: "+typeof o);if(!i(this,o))throw new e.Type.Fatal("CHILD_CLASS_NOT_REGISTERED");n(this,o).parentClassName=a},e.Type.prototype.registerClassInstance=function(t){if("[object Array]"!=Object.prototype.toString.call(t))throw new e.Type.Fatal("NON_ARRAY_CLASS_INSTANCE_PROVIDED","Provided type: "+typeof t);if(1==t.length&&"object"==typeof t[0])throw new e.Type.Fatal("SINGLE_CLASS_INSTANCE_PROVIDED");for(var n,i=0;i<t.length;i++){if("object"!=typeof t[i])throw new e.Type.Fatal("NON_OBJECT_CLASS_INSTANCE_PROVIDED","Provided type: "+typeof t[i]);var a=this.getClass(t[i]);if(i>0&&a!==n)throw new e.Type.Fatal("INVALID_CLASS_HIERARCHY_INSTANCE_REGISTERED");n=this.hasParent(a)?this.getParent(a):void 0}if(n)throw new e.Type.Fatal("INCOMPLETE_CLASS_HIERARCHY_INSTANCE_REGISTERED");for(var i in this._instances)if(this._instances[i][0]===t[0])throw new e.Type.Fatal("CLASS_INSTANCE_ALREADY_REGISTERED");this._instances.push(t)},e.Type.prototype.registerInterface=function(t){this._interfaces[t.getName()]=t},e.Type.prototype.registerInterfaceAgainstClass=function(a,o){if("string"!=typeof a)throw new e.Type.Fatal("NON_STRING_INTERFACE_NAME_PROVIDED","Provided type: "+typeof a);if(!(o instanceof t.Type.Class))throw new e.Type.Fatal("NON_CLASS_OBJECT_PROVIDED","Provided type: "+typeof o);if(!i(this,o))throw new e.Type.Fatal("CLASS_NOT_REGISTERED");n(this,o).interfaces.push(a)},e.Type.prototype.registerMock=function(t,e){this._mocks.push({instance:t,classObject:e})},e.Type.prototype.classExists=function(t){try{this.getClass(t)}catch(n){if(n instanceof e.Type.Fatal&&"CLASS_NOT_REGISTERED"==n.code)return!1;throw n}return!0},e.Type.prototype.getClass=function(t){if("object"!=typeof t&&"function"!=typeof t)throw new e.Type.Fatal("INVALID_CLASS_LOOKUP","Provided type: "+typeof t);if("object"==typeof t){var i=t;t=t.constructor}var a=n(this,t);if(a)return a.classObject;for(var o=0;o<this._mocks.length;o++)if(this._mocks[o].instance===i)return this._mocks[o].classObject;throw new e.Type.Fatal("CLASS_NOT_REGISTERED")},e.Type.prototype.interfaceExists=function(t){var e=this.getInterface(t);return void 0===e?!1:!0},e.Type.prototype.getInterface=function(t){return this._interfaces[t]},e.Type.prototype.getInterfacesFromClass=function(a){if(!(a instanceof t.Type.Class))throw new e.Type.Fatal("NON_CLASS_OBJECT_PROVIDED","Provided type: "+typeof a);if(!i(this,a)){for(var o=0;o<this._mocks.length;o++)if(this._mocks[o].classObject===a)return this._mocks[o].classObject.getInterfaces();throw new e.Type.Fatal("CLASS_NOT_REGISTERED")}var s=[];do{var r=n(this,a).interfaces;for(var o in r)s.push(this.getInterface(r[o]));var c=this.hasParent(a);c&&(a=this.getParent(a))}while(c);return s},e.Type.prototype.hasParent=function(t){try{return this.getParent(t),!0}catch(n){if(n instanceof e.Type.Fatal&&"NON_EXISTENT_PARENT_REQUESTED"==n.code)return!1;throw n}},e.Type.prototype.getParent=function(i){var a=i,o="object"==typeof i?i instanceof t.Type.Class?"classObject":"instance":"constructor";if("object"!=typeof i||i instanceof t.Type.Class||(i=i.constructor),"function"==typeof i&&(i=this.getClass(i)),!(i instanceof t.Type.Class))throw new e.Type.Fatal("NON_CLASS_CONSTRUCTOR_OR_INSTANCE_PROVIDED","Provided type: "+typeof a);if("classObject"==o||"constructor"==o){var s=n(this,i);if(s){if(!s.parentClassName)throw new e.Type.Fatal("NON_EXISTENT_PARENT_REQUESTED");var r=this._namespaceManager.getNamespaceObject(s.parentClassName),c=this.getClass(r);if("classObject"==o)return c;if("constructor"==o)return n(this,c).constructor}}else if("instance"==o){for(var y in this._instances)for(var l in this._instances[y])if(l=parseInt(l),this._instances[y][l]===a){if("undefined"==typeof this._instances[y][l+1])throw new e.Type.Fatal("NON_EXISTENT_PARENT_REQUESTED");return this._instances[y][l+1]}throw new e.Type.Fatal("NON_EXISTENT_PARENT_REQUESTED")}throw new e.Type.Fatal("CLASS_NOT_REGISTERED")},e.Type.prototype.isSameObject=function(t,e){if("object"==typeof t){for(var i=0;i<this._instances.length;i++)for(var a=0;a<this._instances[i].length;a++)if(this._instances[i][a]===t){for(var o=0;o<this._instances[i].length;o++)if(a!=o&&this._instances[i][o]===e)return!0;return!1}return!1}for(var i=0;i<this._classes.length;i++)if(this._classes[i].parentClassName){if(this._classes[i].constructor===t)var s=t,r=e;else if(this._classes[i].constructor===e)var s=e,r=t;if(s){var c=n(this,this._namespaceManager.getNamespaceObject(this._classes[i].parentClassName));if(c.constructor===r)return!0}}return!1},e.Type.prototype.getInstantiatedInstance=function(t){if("object"!=typeof t)throw new e.Type.Fatal("NON_CLASS_INSTANCE_PROVIDED","Provided type: "+typeof t);this.getClass(t);for(var n in this._instances)for(var i in this._instances[n])if(this._instances[n][i]===t)return this._instances[n][0];return t};var n=function(t,e){for(var n in t._classes){if(t._classes[n].classObject===e)return t._classes[n];if(t._classes[n].constructor===e)return t._classes[n]}},i=function(t,e){return n(t,e)?!0:!1}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Registry=window.ClassyJS.Registry||{}),function(t,e,n){var i={NON_NAMESPACE_MANAGER_PROVIDED:"Instance of ClassyJS.NamespaceManager must be provided to the constructor",NON_CLASS_OBJECT_PROVIDED:"Provided class object is not an instance of ClassyJS.Type.Class",NON_STRING_INTERFACE_NAME_PROVIDED:"Provided interface name is not a string",NON_CLASS_CONSTRUCTOR_PROVIDED:"Provided class constructor is not a function",INVALID_CLASS_LOOKUP:"Class object was looked up using a non instance or constructor",CLASS_ALREADY_REGISTERED:"Provided class object is already registered",CLASS_NOT_REGISTERED:"No class object could be found matching the provided constructor or instance",CHILD_CLASS_NOT_REGISTERED:"No class object could be found matching the provided child class object",NON_EXISTENT_PARENT_REQUESTED:"A parent object, constructor or instance was requested where no association exists",NON_ARRAY_CLASS_INSTANCE_PROVIDED:"Class instance must be provided as array of parentally related instances",CLASS_INSTANCE_ALREADY_REGISTERED:"The provided class instance is already registered",SINGLE_CLASS_INSTANCE_PROVIDED:"Class instance provided as single object instance; if there is no parental relationship, there is no need to register the instance.",NON_OBJECT_CLASS_INSTANCE_PROVIDED:"Provided class instance contains an entry that is not an object instance",INVALID_CLASS_HIERARCHY_INSTANCE_REGISTERED:"Provided class instance does not follow the class hierarchy already defined in the registry",INCOMPLETE_CLASS_HIERARCHY_INSTANCE_REGISTERED:"Provided class instance does not complete the class hierarchy already defined in the registry",NON_CLASS_CONSTRUCTOR_OR_INSTANCE_PROVIDED:"An argument which was neither class object, class constructor or class instance was provided",NON_CLASS_INSTANCE_PROVIDED:"Provided argument is not a class instance",NON_STRING_PARENT_PROVIDED:"The provided parent class name must be a string"};n.Fatal=t.Fatal.getFatal("Registry.Type.Fatal",i)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Registry=window.ClassyJS.Registry||{},window.ClassyJS.Registry.Type=window.ClassyJS.Registry.Type||{}),function(t,e){e.Member=function(n,i){if(!(n instanceof e.Type))throw new e.Member.Fatal("TYPE_REGISTRY_REQUIRED","Provided type: "+typeof n);if(!(i instanceof t.TypeChecker))throw new e.Member.Fatal("TYPE_CHECKER_REQUIRED","Provided type: "+typeof i);this._typeRegistry=n,this._typeChecker=i,this._typeMemberData=[],this._classInstanceData=[]},e.Member.prototype.register=function(i,o){if(!(o instanceof t.Type.Class||o instanceof t.Type.Interface))throw new e.Member.Fatal("TARGET_NOT_CLASS_OR_INTERFACE","Provided type: "+typeof o);n(this,o),a(this,i,o)},e.Member.prototype.getMembers=function(n){if(!(n instanceof t.Type.Class||n instanceof t.Type.Interface))throw new e.Member.Fatal("TARGET_NOT_CLASS_OR_INTERFACE","Provided type: "+typeof n);var i=o(this,n);if(!i)return[];var a=[];for(var s in i.members.properties)a.push(i.members.properties[s]);for(var s in i.members.methods)a.push(i.members.methods[s]);for(var s in i.members.events)a.push(i.members.events[s]);for(var s in i.members.constants)a.push(i.members.constants[s]);return a},e.Member.prototype.hasAbstractMembers=function(t){var e=_(this,t);return!u(e)},e.Member.prototype.hasUnimplementedInterfaceMembers=function(t){var e=this._typeRegistry.getInterfacesFromClass(t),n=[],i=_(this,t);for(var a in i)n.push(i[a]);for(var a in e){var o=this.getMembers(e[a]);for(var s in o)n.push(o[s])}return!u(n)},e.Member.prototype.setPropertyValue=function(t,n,a,o,c){if(arguments.callee.caller!=this.setPropertyValue)return this.setPropertyValue(this._typeRegistry.getInstantiatedInstance(t),n,a,o,c||t);
var y=d(this,t);try{var l=r(this,y,a)}catch(f){if(!(f instanceof e.Member.Fatal&&"PROPERTY_NOT_REGISTERED"==f.code&&this._typeRegistry.hasParent(t)))throw f;return this.setPropertyValue(this._typeRegistry.getParent(t),n,a,o,c||t)}o=l.set(t,n,o),i(this,t);var p=s(this,t);p.properties[a]=o},e.Member.prototype.getPropertyValue=function(t,n,a,o){if(arguments.callee.caller!=this.getPropertyValue)return this.getPropertyValue(this._typeRegistry.getInstantiatedInstance(t),n,a,o||t);i(this,t);var c=s(this,t),y=d(this,t);try{var l=r(this,y,a)}catch(f){if(!(f instanceof e.Member.Fatal&&"PROPERTY_NOT_REGISTERED"==f.code&&this._typeRegistry.hasParent(t)))throw f;return this.getPropertyValue(this._typeRegistry.getParent(t),n,a,o||t)}if(c&&c.properties.hasOwnProperty(a))return l.get(t,n,c.properties[a]);var p=l.getDefaultValue(t,n);return c.properties[a]=p,p},e.Member.prototype.callMethod=function(t,n,i,a,o){if("object"!=typeof t&&"function"!=typeof t)throw new e.Member.Fatal("NON_CLASS_INSTANCE_OR_CONSTRUCTOR_PROVIDED","Provided type: "+typeof t);if("string"!=typeof i)throw new e.Member.Fatal("NON_STRING_METHOD_NAME_PROVIDED","Provided type: "+typeof i);if("[object Array]"!=Object.prototype.toString.call(a))throw new e.Member.Fatal("NON_ARRAY_METHOD_ARGUMENTS_PROVIDED","Provided type: "+typeof a);var s="function"==typeof t?!0:!1,r=d(this,t),c=y(this,r,i);t:for(var l=0;l<c.length;l++){var f=c[l].getArgumentTypeIdentifiers();if(s==c[l].isStatic()&&!(a.length>f.length)){if(a.length<f.length){if(!this._typeChecker.areValidTypes(a,f.slice(0,a.length)))continue t;for(var p=a.length;p<f.length;p++){if(!c[l].argumentIsOptional(p))continue t;var _=c[l].getDefaultArgumentValue(p);if(null!==_&&!this._typeChecker.isValidType(_,f[p]))continue t;a.push(_)}}else if(!this._typeChecker.areValidTypes(a,f))continue;if(this._typeRegistry.hasParent(o||t))var u={parent:this._typeRegistry.getParent(o||t)};return c[l].call(o||t,t,n,a,u)}}if(this._typeRegistry.hasParent(t))return this.callMethod(this._typeRegistry.getParent(t),n,i,a,o||t);throw new e.Member.Fatal("METHOD_NOT_REGISTERED","Provided name: "+i)},e.Member.prototype.bindEvent=function(t,n,a,o,r){if(arguments.callee.caller!=this.bindEvent)return this.bindEvent(this._typeRegistry.getInstantiatedInstance(t),n,a,o,r);var y=d(this,t);try{var f=l(this,y,n)}catch(p){if(!(p instanceof e.Member.Fatal&&"EVENT_NOT_REGISTERED"==p.code&&this._typeRegistry.hasParent(t)))throw p;return this.bindEvent(this._typeRegistry.getParent(t),n,a,o,r||t)}r=r||t,y=d(this,a);var _=f.requestBind(r,a);if(_!==!0)throw new e.Member.Fatal("EVENT_BIND_NOT_PERMITTED");try{var u=c(this,y,o,f.getArgumentTypeIdentifiers(),!1)}catch(p){if(p instanceof e.Member.Fatal&&"METHOD_NOT_REGISTERED"==p.code){if(this._typeRegistry.hasParent(a))return this.bindEvent(t,n,this._typeRegistry.getParent(a),o,r);throw new e.Member.Fatal("EVENT_TARGET_METHOD_NOT_REGISTERED","Event name: "+n+"; Method name: "+o)}throw p}i(this,t);var w=s(this,t);"undefined"==typeof w.eventCallbacks[n]&&(w.eventCallbacks[n]=[]),w.eventCallbacks[n].push([a,u])},e.Member.prototype.triggerEvent=function(t,n,a){if(arguments.callee.caller!=this.triggerEvent)return this.triggerEvent(this._typeRegistry.getInstantiatedInstance(t),n,a);i(this,t);var o=d(this,t),r=s(this,t);try{var c=l(this,o,n)}catch(y){if(!(y instanceof e.Member.Fatal&&"EVENT_NOT_REGISTERED"==y.code&&this._typeRegistry.hasParent(t)))throw y;return this.triggerEvent(this._typeRegistry.getParent(t),n,a)}c.trigger(r.eventCallbacks[n]||[],a)},e.Member.prototype.getConstant=function(t,n,i){if("function"!=typeof t)throw new e.Member.Fatal("CONSTANT_RETRIEVED_AGAINST_CLASS_INSTANCE");var a=d(this,t);try{var o=f(this,a,i)}catch(s){if(!(s instanceof e.Member.Fatal&&"CONSTANT_NOT_REGISTERED"==s.code&&this._typeRegistry.hasParent(t)))throw s;return this.getConstant(this._typeRegistry.getParent(t),n,i)}return o.get(t,n)};var n=function(t,e){for(var n=0;n<t._typeMemberData.length;n++)if(t._typeMemberData[n].typeObject===e)return;t._typeMemberData.push({typeObject:e,members:{properties:[],methods:[],events:[],constants:[]}})},i=function(t,e){for(var n=0;n<t._classInstanceData.length;n++)if(t._classInstanceData[n].classInstance===e)return;t._classInstanceData.push({classInstance:e,properties:{},eventCallbacks:{}})},a=function(n,i,a){var s=i.getName();if(i instanceof t.Member.Property){var y=!0;try{r(n,a,s)}catch(d){if(!(d instanceof e.Member.Fatal&&"PROPERTY_NOT_REGISTERED"==d.code))throw d;y=!1}if(y)throw new e.Member.Fatal("PROPERTY_ALREADY_REGISTERED","Property name: "+s);var p=o(n,a);p.members.properties.push(i)}else if(i instanceof t.Member.Method){var _=!0;try{c(n,a,s,i.getArgumentTypeIdentifiers(),i.isStatic())}catch(d){if(!(d instanceof e.Member.Fatal&&"METHOD_NOT_REGISTERED"==d.code))throw d;_=!1}if(_)throw new e.Member.Fatal("METHOD_ALREADY_REGISTERED","Method name: "+s+"; Argument types: "+(i.getArgumentTypeIdentifiers().join(", ")||"(none)")+"; Is static: "+(i.isStatic()?"true":"false"));var p=o(n,a);p.members.methods.push(i)}else if(i instanceof t.Member.Event){var u=!0;try{l(n,a,s)}catch(d){if(!(d instanceof e.Member.Fatal&&"EVENT_NOT_REGISTERED"==d.code))throw d;u=!1}if(u)throw new e.Member.Fatal("EVENT_ALREADY_REGISTERED","Event name: "+s);var p=o(n,a);p.members.events.push(i)}else if(i instanceof t.Member.Constant){var w=!0;try{f(n,a,s)}catch(d){if(!(d instanceof e.Member.Fatal&&"CONSTANT_NOT_REGISTERED"==d.code))throw d;w=!1}if(w)throw new e.Member.Fatal("CONSTANT_ALREADY_REGISTERED","Constant name: "+s);var p=o(n,a);p.members.constants.push(i)}},o=function(t,e){for(var n=0;n<t._typeMemberData.length;n++)if(t._typeMemberData[n].typeObject===e)return t._typeMemberData[n]},s=function(t,e){for(var n=0;n<t._classInstanceData.length;n++)if(t._classInstanceData[n].classInstance===e)return t._classInstanceData[n]},r=function(t,n,i){var a=o(t,n);if(a)for(var s=a.members.properties,r=0;r<s.length;r++)if(s[r].getName()==i)return s[r];throw new e.Member.Fatal("PROPERTY_NOT_REGISTERED","Provided name: "+i)},c=function(t,n,i,a,s){var r=o(t,n);if(r){var c=r.members.methods;t:for(var y=0;y<c.length;y++)if(c[y].getName()==i&&a.length==c[y].getArgumentTypeIdentifiers().length&&s===c[y].isStatic()){for(var l=0;l<a.length;l++)if(a[l]!=c[y].getArgumentTypeIdentifiers()[l])continue t;return c[y]}}throw new e.Member.Fatal("METHOD_NOT_REGISTERED","Provided name: "+i)},y=function(t,e,n){var i=[],a=o(t,e);if(!a)return i;for(var s=a.members.methods,r=0;r<s.length;r++)s[r].getName()==n&&i.push(s[r]);return i},l=function(t,n,i){var a=o(t,n);if(a)for(var s=a.members.events,r=0;r<s.length;r++)if(s[r].getName()==i)return s[r];throw new e.Member.Fatal("EVENT_NOT_REGISTERED","Provided name: "+i)},f=function(t,n,i){var a=o(t,n);if(a)for(var s=a.members.constants,r=0;r<s.length;r++)if(s[r].getName()==i)return s[r];throw new e.Member.Fatal("CONSTANT_NOT_REGISTERED","Provided name: "+i)},d=function(t,e){var n=t._typeRegistry.getClass(e);return n},p=function(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0},_=function(t,e){var n=[],i=e,a=!0;do{a?a=!1:i=t._typeRegistry.getParent(i);var o=t.getMembers(i);for(var s in o)n.push(o[s])}while(t._typeRegistry.hasParent(i));return n},u=function(t){for(var e=[],n=t.length;n>0;n--)if("undefined"!=typeof t[n-1].isAbstract&&t[n-1].isAbstract())e.push(t[n-1]);else for(var i in e){var a=e[i];a.getName()===t[n-1].getName()&&a.isStatic()===t[n-1].isStatic()&&a.getReturnType()===t[n-1].getReturnType()&&p(a.getArgumentTypeIdentifiers(),t[n-1].getArgumentTypeIdentifiers())&&e.splice(i,1)}return e.length>0?!1:!0}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Registry=window.ClassyJS.Registry||{}),function(t,e,n){var i={TYPE_REGISTRY_REQUIRED:"Instance of ClassyJS.Registry.Type is required by constructor",TYPE_CHECKER_REQUIRED:"Instance of ClassyJS.TypeChecker is required by constructor",NON_CLASS_INSTANCE_OR_CONSTRUCTOR_PROVIDED:"The provided call target was not an object instance or constructor",NON_STRING_METHOD_NAME_PROVIDED:"The provided method name is not a string",NON_ARRAY_METHOD_ARGUMENTS_PROVIDED:"The provided method arguments are not an array",TARGET_NOT_CLASS_OR_INTERFACE:"Object provided must be Type.Class or Type.Interface",PROPERTY_NOT_REGISTERED:"No property with the given name has been registered against the given type",PROPERTY_ALREADY_REGISTERED:"A property with the same name has already been registered against the given type",METHOD_NOT_REGISTERED:"No method with the given name and argument signature has been registered against the given type",METHOD_ALREADY_REGISTERED:"A method with the same name, argument signature and static setting has already been registered against the given type",EVENT_NOT_REGISTERED:"No event with the given name has been registered against the given type",EVENT_ALREADY_REGISTERED:"An event with the same name has already been registered against the given type",EVENT_TARGET_METHOD_NOT_REGISTERED:"The provided event target method does not exist",EVENT_BIND_NOT_PERMITTED:"The event object did not indicate that the bind can be made",CONSTANT_NOT_REGISTERED:"No constant with the given name has been registered against the given type",CONSTANT_ALREADY_REGISTERED:"A constant with the same name has already been registered against the given type",CONSTANT_RETRIEVED_AGAINST_CLASS_INSTANCE:"A constant was requested using an instance of a class instead of its constructor"};n.Fatal=t.Fatal.getFatal("Registry.Member.Fatal",i)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Registry=window.ClassyJS.Registry||{},window.ClassyJS.Registry.Member=window.ClassyJS.Registry.Member||{}),function(t){t.Instantiator=function(){this._typeFactory,this._classFactory,this._interfaceFactory,this._typeDefinitionFactory,this._classDefinitionFactory,this._interfaceDefinitionFactory,this._memberFactory,this._propertyFactory,this._methodFactory,this._eventFactory,this._constantFactory,this._memberDefinitionFactory,this._propertyDefinitionFactory,this._methodDefinitionFactory,this._eventDefinitionFactory,this._constantDefinitionFactory,this._namespaceManager,this._typeRegistry,this._memberRegistry,this._typeChecker,this._accessController,this._autoLoader,this._includer,this._autoLoadInstantiator,this._reflectionFactory},t.Instantiator.prototype.getTypeFactory=function(){return this._typeFactory||(this._typeFactory=new ClassyJS.Type.Factory(this.getTypeDefinitionFactory(),this.getClassFactory(),this.getInterfaceFactory(),this.getTypeRegistry(),this.getMemberRegistry(),this.getNamespaceManager())),this._typeFactory},t.Instantiator.prototype.getClassFactory=function(){return this._classFactory||(this._classFactory=new ClassyJS.Type.Class.Factory),this._classFactory},t.Instantiator.prototype.getInterfaceFactory=function(){return this._interfaceFactory||(this._interfaceFactory=new ClassyJS.Type.Interface.Factory),this._interfaceFactory},t.Instantiator.prototype.getTypeDefinitionFactory=function(){return this._typeDefinitionFactory||(this._typeDefinitionFactory=new ClassyJS.Type.DefinitionFactory(this.getClassDefinitionFactory(),this.getInterfaceDefinitionFactory())),this._typeDefinitionFactory},t.Instantiator.prototype.getClassDefinitionFactory=function(){return this._classDefinitionFactory||(this._classDefinitionFactory=new ClassyJS.Type.Class.Definition.Factory),this._classDefinitionFactory},t.Instantiator.prototype.getInterfaceDefinitionFactory=function(){return this._interfaceDefinitionFactory||(this._interfaceDefinitionFactory=new ClassyJS.Type.Interface.Definition.Factory),this._interfaceDefinitionFactory},t.Instantiator.prototype.getMemberFactory=function(){return this._memberFactory||(this._memberFactory=new ClassyJS.Member.Factory(this.getMemberDefinitionFactory(),this.getPropertyFactory(),this.getMethodFactory(),this.getEventFactory(),this.getConstantFactory(),this.getTypeChecker(),this.getAccessController())),this._memberFactory},t.Instantiator.prototype.getPropertyFactory=function(){return this._propertyFactory||(this._propertyFactory=new ClassyJS.Member.Property.Factory),this._propertyFactory},t.Instantiator.prototype.getMethodFactory=function(){return this._methodFactory||(this._methodFactory=new ClassyJS.Member.Method.Factory),this._methodFactory},t.Instantiator.prototype.getEventFactory=function(){return this._eventFactory||(this._eventFactory=new ClassyJS.Member.Event.Factory),this._eventFactory},t.Instantiator.prototype.getConstantFactory=function(){return this._constantFactory||(this._constantFactory=new ClassyJS.Member.Constant.Factory),this._constantFactory},t.Instantiator.prototype.getMemberDefinitionFactory=function(){return this._memberDefinitionFactory||(this._memberDefinitionFactory=new ClassyJS.Member.DefinitionFactory(this.getPropertyDefinitionFactory(),this.getMethodDefinitionFactory(),this.getEventDefinitionFactory(),this.getConstantDefinitionFactory())),this._memberDefinitionFactory},t.Instantiator.prototype.getPropertyDefinitionFactory=function(){return this._propertyDefinitionFactory||(this._propertyDefinitionFactory=new ClassyJS.Member.Property.Definition.Factory),this._propertyDefinitionFactory},t.Instantiator.prototype.getMethodDefinitionFactory=function(){return this._methodDefinitionFactory||(this._methodDefinitionFactory=new ClassyJS.Member.Method.Definition.Factory),this._methodDefinitionFactory},t.Instantiator.prototype.getEventDefinitionFactory=function(){return this._eventDefinitionFactory||(this._eventDefinitionFactory=new ClassyJS.Member.Event.Definition.Factory),this._eventDefinitionFactory},t.Instantiator.prototype.getConstantDefinitionFactory=function(){return this._constantDefinitionFactory||(this._constantDefinitionFactory=new ClassyJS.Member.Constant.Definition.Factory),this._constantDefinitionFactory},t.Instantiator.prototype.getNamespaceManager=function(){return this._namespaceManager||(this._namespaceManager=new ClassyJS.NamespaceManager),this._namespaceManager},t.Instantiator.prototype.getTypeRegistry=function(){return this._typeRegistry||(this._typeRegistry=new ClassyJS.Registry.Type(this.getNamespaceManager())),this._typeRegistry},t.Instantiator.prototype.getMemberRegistry=function(){return this._memberRegistry||(this._memberRegistry=new ClassyJS.Registry.Member(this.getTypeRegistry(),this.getTypeChecker())),this._memberRegistry},t.Instantiator.prototype.getTypeChecker=function(){return this._typeChecker||(this._typeChecker=new ClassyJS.TypeChecker(new ClassyJS.TypeChecker.ReflectionFactory)),this._typeChecker},t.Instantiator.prototype.getAccessController=function(){return this._accessController||(this._accessController=new ClassyJS.Access.Controller(this.getTypeRegistry())),this._accessController},t.Instantiator.prototype.getAutoLoader=function(){return this._autoLoader||(this._autoLoader=new ClassyJS.AutoLoader(this.getIncluder(),this.getAutoLoadInstantiator(),this.getNamespaceManager(),this.getMemberRegistry())),this._autoLoader},t.Instantiator.prototype.getIncluder=function(){return this._includer||(this._includer=new ClassyJS.AutoLoader.Includer.Script),this._includer},t.Instantiator.prototype.getAutoLoadInstantiator=function(){return this._autoLoadInstantiator||(this._autoLoadInstantiator=new ClassyJS.AutoLoader.Instantiator),this._autoLoadInstantiator},t.Instantiator.prototype.getReflectionFactory=function(){return this._reflectionFactory||(this._reflectionFactory=new ClassyJS.Reflection.Factory),this._reflectionFactory}}(window.ClassyJS=window.ClassyJS||{}),function(t){t.AutoLoader=function(e,n,i,a){if(!(e instanceof ClassyJS.AutoLoader.Includer.Script))throw new t.AutoLoader.Fatal("INCLUDER_NOT_PROVIDED","Provided type: "+typeof e);if(!(n instanceof ClassyJS.AutoLoader.Instantiator))throw new t.AutoLoader.Fatal("INSTANTIATOR_NOT_PROVIDED","Provided type: "+typeof n);if(!(i instanceof ClassyJS.NamespaceManager))throw new t.AutoLoader.Fatal("NAMESPACE_MANAGER_NOT_PROVIDED","Provided type: "+typeof i);if(!(a instanceof ClassyJS.Registry.Member))throw new t.AutoLoader.Fatal("MEMBER_REGISTRY_NOT_PROVIDED","Provided type: "+typeof a);this._includer=e,this._instantiator=n,this._namespaceManager=i,this._memberRegistry=a,this._stacks=[],this._continueBuffer=[],this._classMaps=[],this._requestedScripts=[],this._loadedScripts=[],this._classCallbacks={}},t.AutoLoader.prototype.isRunning=function(){return this._stacks.length>0?!0:!1},t.AutoLoader.prototype.start=function(o,s){if("string"!=typeof o)throw new t.AutoLoader.Fatal("NON_STRING_CLASS_NAME","Provided type: "+typeof o);var r={className:o,methodName:s,classConstructor:void 0,loadingScripts:[]};this._stacks.push(r),n(this,o)?(r.classConstructor=i(this,o),a(this)):e(this,o,r)},t.AutoLoader.prototype.require=function(t,i,o,s){var r={className:t,targetInstance:i,accessObject:o,targetMethodName:s,loadingScripts:[]};this._stacks.push(r),n(this,t)?a(this):e(this,t,r)},t.AutoLoader.prototype["continue"]=function(n,i){if("string"!=typeof n)throw new t.AutoLoader.Fatal("NON_STRING_CLASS_NAME","Provided type: "+typeof n);if(!this.isRunning())throw new t.AutoLoader.Fatal("NOT_RUNNING");this._continueBuffer.push(o(this,n)),"function"==typeof i&&("undefined"==typeof this._classCallbacks[n]&&(this._classCallbacks[n]=[]),this._classCallbacks[n].push(i)),e(this,n)},t.AutoLoader.prototype.addClassAutoloadPattern=function(t,e){this._classMaps.push({pattern:t,target:e}),this._classMaps.sort(function(t,e){return e.pattern.length-t.pattern.length})};var e=function(t,e,i){if(n(t,e))a(t);else{var c=o(t,e);t._loadedScripts.indexOf(c)>-1?a(t):(-1==t._requestedScripts.indexOf(c)&&(t._includer.include(c,s(t,e,c),r(t,e,c)),t._requestedScripts.push(c)),i&&i.loadingScripts.push(c))}},n=function(t,e){try{return i(t,e),!0}catch(n){if(!(n instanceof ClassyJS.NamespaceManager.Fatal)||"NAMESPACE_OBJECT_DOES_NOT_EXIST"!=n.code)throw n;return!1}},i=function(t,e){return constructor=t._namespaceManager.getNamespaceObject(e)},a=function(t){for(var e=t._stacks.length;e--;){var n=t._stacks[e];if(!(n.loadingScripts.length>0))if(t._stacks.splice(e,1),"undefined"!=typeof n.classConstructor){var i=t._instantiator.instantiate(n.classConstructor);n.methodName&&i[n.methodName].call(i)}else t._memberRegistry.callMethod(n.targetInstance,n.accessObject,n.targetMethodName,[n.className])}},o=function(t,e){var n="";for(var i in t._classMaps){var a=t._classMaps[i].pattern;if(e.substr(0,a.length)==a){n=t._classMaps[i].target,e=e.substr(a.length);break}}return n.match(/(https?:\/)?\//)||(n="/"+n),n+e.replace(/\./g,"/")+".js"},s=function(t,e,n){return function(t,e,n){return function(){c(t,e,n)}}(t,e,n)},r=function(e,n,i){return function(e,n){return function(){throw new t.AutoLoader.Fatal("SCRIPT_NOT_LOADED","Provided class name: "+e+"; Included script: "+n)}}(n,i)},c=function(t,e,n){if("undefined"!=typeof t._classCallbacks[e]){for(var o in t._classCallbacks[e])t._classCallbacks[e][o]();delete t._classCallbacks[e]}for(var s=t._stacks.length;s--;){var r=t._stacks[s];e==r.className&&"undefined"==typeof r.targetInstance&&(r.classConstructor=i(t,e));var c=r.loadingScripts.indexOf(n);if(c>-1){r.loadingScripts.splice(c,1);for(var y in t._continueBuffer)-1==t._loadedScripts.indexOf(t._continueBuffer[y])&&-1==r.loadingScripts.indexOf(t._continueBuffer[y])&&r.loadingScripts.push(t._continueBuffer[y])}0==r.loadingScripts.length&&a(t)}t._loadedScripts.push(n),t._continueBuffer=[]}}(window.ClassyJS=window.ClassyJS||{}),function(t,e){var n={INCLUDER_NOT_PROVIDED:"An includer must be provided",INSTANTIATOR_NOT_PROVIDED:"Instance of ClassyJS.AutoLoader.Instantiator must be provided",NAMESPACE_MANAGER_NOT_PROVIDED:"Instance of ClassyJS.NamespaceManager must be provided",MEMBER_REGISTRY_NOT_PROVIDED:"Instance of ClassyJS.Registry.Member must be provided",ALREADY_RUNNING:"Cannot start a new loading session whilst one is already running",NOT_RUNNING:"Cannot continue a loading session whilst not running",SCRIPT_NOT_LOADED:"A required script could not be loaded",CLASS_NOT_FOUND:"An identified class script did not contain the expected class",NON_STRING_CLASS_NAME:"A provided class name was not a string"};e.Fatal=t.Fatal.getFatal("AutoLoader.Fatal",n)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.AutoLoader=window.ClassyJS.AutoLoader||{}),function(t,e){e.Instantiator=function(){},e.Instantiator.prototype.instantiate=function(t){return new t}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.AutoLoader=window.ClassyJS.AutoLoader||{}),function(t,e,n){n.Script=function(){},n.Script.prototype.include=function(t,e,n){var i=document.createElement("script");i.type="text/javascript",i.src=t,i.async=!1,i.onreadystatechange=i.onload=function(){var t=i.readyState;!t||/loaded|complete/.test(t)?e():n()},document.getElementsByTagName("head")[0].appendChild(i)}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.AutoLoader=window.ClassyJS.AutoLoader||{},window.ClassyJS.AutoLoader.Includer=window.ClassyJS.AutoLoader.Includer||{}),function(t,e){e.Factory=function(){},e.Factory.prototype.buildClass=function(e){return new t.Reflection.Class(e)},e.Factory.prototype.buildClassInstance=function(e){return new t.Reflection.ClassInstance(e)},e.Factory.prototype.buildInterface=function(e){return new t.Reflection.Interface(e)},e.Factory.prototype.buildProperty=function(e,n){return new t.Reflection.Property(e,n)},e.Factory.prototype.buildMethod=function(e,n){return new t.Reflection.Method(e,n)},e.Factory.prototype.buildEvent=function(e,n){return new t.Reflection.Event(e,n)},e.Factory.prototype.buildConstant=function(e,n){return new t.Reflection.Constant(e,n)},e.Factory.prototype.buildPropertyInstance=function(e,n){return new t.Reflection.PropertyInstance(e,n)},e.Factory.prototype.buildMethodInstance=function(e,n){return new t.Reflection.MethodInstance(e,n)},e.Factory.prototype.buildEventInstance=function(e,n){return new t.Reflection.EventInstance(e,n)},e.Factory.prototype.buildArgument=function(e,n,i,a){return new t.Reflection.Argument(e,n,i,a)},e.Factory.prototype.buildType=function(e){return new t.Reflection.Type(e)},e.Factory.prototype.buildAccessType=function(e){return new t.Reflection.AccessType(e)}}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Reflection=window.ClassyJS.Reflection||{}),function(t,e){e.Class=function(n){if("string"==typeof n&&(n=t._instantiator.getNamespaceManager().getNamespaceObject(n)),"function"!=typeof n&&"object"!=typeof n)throw new e.Class.Fatal("INVALID_IDENTIFIER_PROVIDED","Provided type: "+typeof n);if(!t._instantiator.getTypeRegistry().classExists(n))throw new e.Class.Fatal("CLASS_DOES_NOT_EXIST");this._classObject=t._instantiator.getTypeRegistry().getClass(n)},e.Class.prototype.getName=function(){return this._classObject.getName()},e.Class.prototype.hasParent=function(){return this._classObject.isExtension()},e.Class.prototype.getParent=function(){var e=this._classObject.getParentClass();return t._instantiator.getReflectionFactory().buildClass(e)},e.Class.prototype.getInterfaces=function(){for(var e=this._classObject.getInterfaces(),n=[],i=0;i<e.length;i++)n.push(t._instantiator.getReflectionFactory().buildInterface(e[i]));return n},e.Class.prototype.implementsInterface=function(e){for(var n=t._instantiator.getTypeRegistry().getInterfacesFromClass(this._classObject),i=0;i<n.length;i++)if(n[i]===e||n[i].getName()===e)return!0;return!1},e.Class.prototype.getMembers=function(){return o(this,n(this))},e.Class.prototype.getProperties=function(){return i(this,t.Member.Property)},e.Class.prototype.getProperty=function(e){var n=i(this,t.Member.Property,e);return n[0]},e.Class.prototype.getMethods=function(e){return i(this,t.Member.Method,e)},e.Class.prototype.getEvents=function(e){return i(this,t.Member.Event,e)},e.Class.prototype.getEvent=function(e){var n=i(this,t.Member.Event,e);return n[0]},e.Class.prototype.getConstants=function(e){return i(this,t.Member.Constant,e)},e.Class.prototype.getConstant=function(e){var n=i(this,t.Member.Constant,e);return n[0]},e.Class.prototype.isAbstract=function(){return"none"==s(this)?!1:!0},e.Class.prototype.isExplicitAbstract=function(){return"explicit"==s(this)?!0:!1},e.Class.prototype.isImplicitAbstract=function(){return"implicit"==s(this)?!0:!1},e.Class.prototype.createNew=function(){var e=Array.prototype.splice.call(arguments,0);e.unshift(null);var n=t._instantiator.getNamespaceManager().getNamespaceObject(this._classObject.getName()),i=n.bind.apply(n,e);return new i},e.Class.prototype.getMock=function(){var e=t._instantiator.getNamespaceManager().getNamespaceObject(this.getName()),i=function(){};i.prototype=e.prototype;for(var o=new i,s=a(this,t.Member.Property,n(this)),r=a(this,t.Member.Method,n(this)),c=0;c<s.length;c++)o[s[c].getName()]=function(){};for(var c=0;c<r.length;c++)o[r[c].getName()]=function(){};return t._instantiator.getTypeRegistry().registerMock(o,this._classObject),o};var n=function(e){return t._instantiator.getMemberRegistry().getMembers(e._classObject)},i=function(t,e,i){return o(t,_filterByName(t,i,a(t,e,n(t))))},a=function(t,e,n){if(!e)return n;for(var i=[],a=0;a<n.length;a++)n[a]instanceof e&&i.push(n[a]);return i};_filterByName=function(t,e,n){if(!e)return n;for(var i=[],a=0;a<n.length;a++)n[a].getName()==e&&i.push(n[a]);return i};var o=function(e,n){for(var i=[],a=0;a<n.length;a++)n[a]instanceof t.Member.Property?i.push(t._instantiator.getReflectionFactory().buildProperty(e.getName(),n[a].getName())):n[a]instanceof t.Member.Method?i.push(t._instantiator.getReflectionFactory().buildMethod(e.getName(),n[a].getName())):n[a]instanceof t.Member.Event?i.push(t._instantiator.getReflectionFactory().buildEvent(e.getName(),n[a].getName())):n[a]instanceof t.Member.Constant&&i.push(t._instantiator.getReflectionFactory().buildConstant(e.getName(),n[a].getName()));return i},s=function(e){try{e._classObject.requestInstantiation()}catch(n){if(!(n instanceof t.Type.Class.Fatal))throw n;if("CANNOT_INSTANTIATE_ABSTRACT_CLASS"==n.code)return"explicit";if("CANNOT_INSTANTIATE_CLASS_WITH_ABSTRACT_MEMBERS"==n.code)return"implicit";if("CANNOT_INSTANTIATE_CLASS_WITH_UNIMPLEMENTED_INTERFACE_MEMBERS"==n.code)return"implicit"}return"none"};window.Reflection=window.Reflection||{},window.Reflection.Class=e.Class}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Reflection=window.ClassyJS.Reflection||{}),function(t,e,n){var i={CLASS_DOES_NOT_EXIST:"Provided identifier does not describe a valid class",INVALID_IDENTIFIER_PROVIDED:"Class identifier must be a string, function or object"};n.Fatal=t.Fatal.getFatal("Reflection.Class.Fatal",i)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Reflection=window.ClassyJS.Reflection||{},window.ClassyJS.Reflection.Class=window.ClassyJS.Reflection.Class||{}),function(t,e){e.ClassInstance=function(n){if("object"!=typeof n)throw new e.ClassInstance.Fatal("INVALID_IDENTIFIER_PROVIDED","Provided type: "+typeof n);if(!t._instantiator.getTypeRegistry().classExists(n))throw new e.ClassInstance.Fatal("CLASS_DOES_NOT_EXIST");this._instance=n},e.ClassInstance.prototype.getClass=function(){return t._instantiator.getReflectionFactory().buildClass(this._instance)},e.ClassInstance.prototype.getMemberInstances=function(){return o(this,n(this))},e.ClassInstance.prototype.getPropertyInstances=function(){return i(this,t.Member.Property)},e.ClassInstance.prototype.getPropertyInstance=function(e){var n=i(this,t.Member.Property,e);return n[0]},e.ClassInstance.prototype.getMethodInstances=function(e){return i(this,t.Member.Method,e)},e.ClassInstance.prototype.getEventInstances=function(){return i(this,t.Member.Event)},e.ClassInstance.prototype.getEventInstance=function(e){var n=i(this,t.Member.Event,e);return n[0]};var n=function(e){var n=t._instantiator.getTypeRegistry().getClass(e._instance);return t._instantiator.getMemberRegistry().getMembers(n)},i=function(t,e,i){return o(t,_filterByName(t,i,a(t,e,n(t))))},a=function(t,e,n){if(!e)return n;for(var i=[],a=0;a<n.length;a++)n[a]instanceof e&&i.push(n[a]);return i};_filterByName=function(t,e,n){if(!e)return n;for(var i=[],a=0;a<n.length;a++)n[a].getName()==e&&i.push(n[a]);return i};var o=function(e,n){for(var i=[],a=t._instantiator.getReflectionFactory(),o=0;o<n.length;o++)if(n[o]instanceof t.Member.Property)i.push(a.buildPropertyInstance(e._instance,n[o].getName()));else if(n[o]instanceof t.Member.Method)i.push(a.buildMethodInstance(e._instance,n[o].getName()));else{if(!(n[o]instanceof t.Member.Event))continue;i.push(a.buildEventInstance(e._instance,n[o].getName()))}return i};window.Reflection=window.Reflection||{},window.Reflection.ClassInstance=e.ClassInstance}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Reflection=window.ClassyJS.Reflection||{}),function(t,e,n){var i={CLASS_DOES_NOT_EXIST:"Provided object is not an instance of a valid class",INVALID_IDENTIFIER_PROVIDED:"Class identifier must be an object instance"};n.Fatal=t.Fatal.getFatal("Reflection.ClassInstance.Fatal",i)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Reflection=window.ClassyJS.Reflection||{},window.ClassyJS.Reflection.ClassInstance=window.ClassyJS.Reflection.ClassInstance||{}),function(t,e){e.Interface=function(n){if("string"!=typeof n)throw new e.Interface.Fatal("NON_STRING_INTERFACE_NAME_PROVIDED","Provided type: "+typeof n);if(!t._instantiator.getTypeRegistry().interfaceExists(n))throw new e.Interface.Fatal("INTERFACE_DOES_NOT_EXIST","Provided name: "+n);this._interfaceObject=t._instantiator.getTypeRegistry().getInterface(n)},e.Interface.prototype.getName=function(){return this._interfaceObject.getName()},e.Interface.prototype.getMembers=function(){return o(this,n(this))},e.Interface.prototype.getMethods=function(e){return i(this,t.Member.Method,e)},e.Interface.prototype.getEvents=function(){return i(this,t.Member.Event)},e.Interface.prototype.getEvent=function(e){return i(this,t.Member.Event,e)},e.Interface.prototype.getMock=function(){for(var e=function(){},i=new e,o=a(this,t.Member.Property,n(this)),s=a(this,t.Member.Method,n(this)),r=0;r<o.length;r++)i[o[r].getName()]=function(){};for(var r=0;r<s.length;r++)i[s[r].getName()]=function(){};return i.bind=function(){},t._instantiator.getTypeRegistry().registerMock(i,new t.Type.Class(new t.Type.Class.Definition("class ClassyJS.Mock"+Math.floor(999999*Math.random())+" implements "+this._interfaceObject.getName()),t._instantiator.getTypeRegistry(),t._instantiator.getMemberRegistry(),t._instantiator.getNamespaceManager())),i};var n=function(e){return t._instantiator.getMemberRegistry().getMembers(e._interfaceObject)},i=function(t,e,i){return o(t,_filterByName(t,i,a(t,e,n(t))))},a=function(t,e,n){if(!e)return n;for(var i=[],a=0;a<n.length;a++)n[a]instanceof e&&i.push(n[a]);return i};_filterByName=function(t,e,n){if(!e)return n;for(var i=[],a=0;a<n.length;a++)n[a].getName()==e&&i.push(n[a]);return i};var o=function(e,n){for(var i=[],a=0;a<n.length;a++)n[a]instanceof t.Member.Method?i.push(t._instantiator.getReflectionFactory().buildMethod(n[a])):n[a]instanceof t.Member.Event&&i.push(t._instantiator.getReflectionFactory().buildEvent(n[a]));return i};window.Reflection=window.Reflection||{},window.Reflection.Interface=e.Interface}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Reflection=window.ClassyJS.Reflection||{}),function(t,e,n){var i={INTERFACE_DOES_NOT_EXIST:"Provided name does not describe a valid interface",NON_STRING_INTERFACE_NAME_PROVIDED:"The provided name must be a string"};n.Fatal=t.Fatal.getFatal("Reflection.Interface.Fatal",i)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Reflection=window.ClassyJS.Reflection||{},window.ClassyJS.Reflection.Interface=window.ClassyJS.Reflection.Interface||{}),function(t,e){e.Property=function(i,a){if("string"==typeof i&&(i=t._instantiator.getNamespaceManager().getNamespaceObject(i)),"function"!=typeof i&&"object"!=typeof i)throw new e.Property.Fatal("INVALID_IDENTIFIER_PROVIDED","Provided type: "+typeof i);if("string"!=typeof a)throw new e.Property.Fatal("NON_STRING_PROPERTY_NAME_PROVIDED","Provided type: "+typeof a);if(!t._instantiator.getTypeRegistry().classExists(i))throw new e.Property.Fatal("CLASS_DOES_NOT_EXIST");
this._classObject=t._instantiator.getTypeRegistry().getClass(i);for(var o=n(this),s=0;s<o.length;s++)if(o[s]instanceof t.Member.Property&&o[s].getName()==a)return void(this._propertyObject=o[s]);throw new e.Property.Fatal("PROPERTY_DOES_NOT_EXIST","Property name: "+a)},e.Property.prototype.getName=function(){return this._propertyObject.getName()},e.Property.prototype.getType=function(){return t._instantiator.getReflectionFactory().buildType(this._propertyObject.getTypeIdentifier())},e.Property.prototype.getAccessType=function(){return t._instantiator.getReflectionFactory().buildAccessType(this._propertyObject.getAccessTypeIdentifier())},e.Property.prototype.hasDefaultValue=function(){try{this.getDefaultValue()}catch(t){if(!(t instanceof e.Property.Fatal)||"UNDEFINED_DEFAULT_VALUE_REQUESTED"!=t.code)throw t;return!1}return!0},e.Property.prototype.getDefaultValue=function(){var t=this._propertyObject.getDefaultValue();if(null===t)throw new e.Property.Fatal("UNDEFINED_DEFAULT_VALUE_REQUESTED");return t},e.Property.prototype.getClass=function(){return t._instantiator.getReflectionFactory().buildClass(this._classObject.getName())};var n=function(e){return t._instantiator.getMemberRegistry().getMembers(e._classObject)};window.Reflection=window.Reflection||{},window.Reflection.Property=e.Property}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Reflection=window.ClassyJS.Reflection||{}),function(t,e,n){var i={INVALID_IDENTIFIER_PROVIDED:"Class identifier must be a string, function or object",NON_STRING_PROPERTY_NAME_PROVIDED:"Provided property name must be a string",CLASS_DOES_NOT_EXIST:"Provided identifier does not describe a valid class",PROPERTY_DOES_NOT_EXIST:"Provided property name and class identifier do not describe a valid property",UNDEFINED_DEFAULT_VALUE_REQUESTED:"A call was made to 'getDefaultValue' when no default value exists"};n.Fatal=t.Fatal.getFatal("Reflection.Property.Fatal",i)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Reflection=window.ClassyJS.Reflection||{},window.ClassyJS.Reflection.Property=window.ClassyJS.Reflection.Property||{}),function(t,e){e.PropertyInstance=function(e,n){t._instantiator.getMemberRegistry().getPropertyValue(e,e,n),this._objectInstance=e,this._name=n},e.PropertyInstance.prototype.getProperty=function(){return t._instantiator.getReflectionFactory().buildProperty(this._objectInstance,this._name)},e.PropertyInstance.prototype.getValue=function(){return t._instantiator.getMemberRegistry().getPropertyValue(this._objectInstance,this._objectInstance,this._name)},e.PropertyInstance.prototype.setValue=function(e){t._instantiator.getMemberRegistry().setPropertyValue(this._objectInstance,this._objectInstance,this._name,e)},window.Reflection=window.Reflection||{},window.Reflection.PropertyInstance=e.PropertyInstance}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Reflection=window.ClassyJS.Reflection||{}),function(t,e,n){var i={};n.Fatal=t.Fatal.getFatal("Reflection.PropertyInstance.Fatal",i)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Reflection=window.ClassyJS.Reflection||{},window.ClassyJS.Reflection.PropertyInstance=window.ClassyJS.Reflection.PropertyInstance||{}),function(t,e){e.Method=function(i,a){if("string"==typeof i&&(i=t._instantiator.getNamespaceManager().getNamespaceObject(i)),"function"!=typeof i&&"object"!=typeof i)throw new e.Method.Fatal("INVALID_IDENTIFIER_PROVIDED","Provided type: "+typeof i);if("string"!=typeof a)throw new e.Method.Fatal("NON_STRING_METHOD_NAME_PROVIDED","Provided type: "+typeof a);if(!t._instantiator.getTypeRegistry().classExists(i))throw new e.Method.Fatal("CLASS_DOES_NOT_EXIST");this._classObject=t._instantiator.getTypeRegistry().getClass(i);for(var o=n(this),s=0;s<o.length;s++)if(o[s]instanceof t.Member.Method&&o[s].getName()==a)return void(this._methodObject=o[s]);throw new e.Method.Fatal("METHOD_DOES_NOT_EXIST","Method name: "+a)},e.Method.prototype.getName=function(){return this._methodObject.getName()},e.Method.prototype.getAccessType=function(){return t._instantiator.getReflectionFactory().buildAccessType(this._methodObject.getAccessTypeIdentifier())},e.Method.prototype.getArguments=function(){for(var e=this._methodObject.getArgumentTypeIdentifiers(),n=[],i=0;i<e.length;i++){var a=this._methodObject.argumentIsOptional(i);n.push(t._instantiator.getReflectionFactory().buildArgument(e[i],a,a?this._methodObject.getDefaultArgumentValue(i):void 0,this))}return n},e.Method.prototype.getClass=function(){return t._instantiator.getReflectionFactory().buildClass(this._classObject.getName())};var n=function(e){return t._instantiator.getMemberRegistry().getMembers(e._classObject)};window.Reflection=window.Reflection||{},window.Reflection.Method=e.Method}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Reflection=window.ClassyJS.Reflection||{}),function(t,e,n){var i={INSTANTIATION_BEFORE_DEPENDENCIES_INJECTED:"Class dependencies must be provided via 'acceptClassDependencies' before any instance can be created",INVALID_IDENTIFIER_PROVIDED:"Class identifier must be a string, function or object",NON_STRING_METHOD_NAME_PROVIDED:"Provided method name must be a string",CLASS_DOES_NOT_EXIST:"Provided identifier does not describe a valid class",METHOD_DOES_NOT_EXIST:"Provided method name and class identifier do not describe a valid method"};n.Fatal=t.Fatal.getFatal("Reflection.Method.Fatal",i)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Reflection=window.ClassyJS.Reflection||{},window.ClassyJS.Reflection.Method=window.ClassyJS.Reflection.Method||{}),function(t,e){e.MethodInstance=function(n,i){for(var a=t._instantiator.getTypeRegistry().getClass(n),o=t._instantiator.getMemberRegistry().getMembers(a),s=!1,r=0;r<o.length;r++)if(o[r]instanceof t.Member.Method&&o[r].getName()==i){s=!0;break}if(!s)throw new e.MethodInstance.Fatal("METHOD_DOES_NOT_EXIST","Method name: "+i);this._objectInstance=n,this._name=i},e.MethodInstance.prototype.getMethod=function(){return t._instantiator.getReflectionFactory().buildMethod(this._objectInstance,this._name)},e.MethodInstance.prototype.call=function(){return t._instantiator.getMemberRegistry().callMethod(this._objectInstance,this._objectInstance,this._name,Array.prototype.splice.call(arguments,0,arguments.length))},window.Reflection=window.Reflection||{},window.Reflection.MethodInstance=e.MethodInstance}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Reflection=window.ClassyJS.Reflection||{}),function(t,e,n){var i={METHOD_DOES_NOT_EXIST:"Provided method name and class instance do not describe a valid method"};n.Fatal=t.Fatal.getFatal("Reflection.MethodInstance.Fatal",i)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Reflection=window.ClassyJS.Reflection||{},window.ClassyJS.Reflection.MethodInstance=window.ClassyJS.Reflection.MethodInstance||{}),function(t,e){e.Event=function(i,a){if("string"==typeof i&&(i=t._instantiator.getNamespaceManager().getNamespaceObject(i)),"function"!=typeof i&&"object"!=typeof i)throw new e.Event.Fatal("INVALID_IDENTIFIER_PROVIDED","Provided type: "+typeof i);if("string"!=typeof a)throw new e.Event.Fatal("NON_STRING_EVENT_NAME_PROVIDED","Provided type: "+typeof a);if(!t._instantiator.getTypeRegistry().classExists(i))throw new e.Event.Fatal("CLASS_DOES_NOT_EXIST");this._classObject=t._instantiator.getTypeRegistry().getClass(i);for(var o=n(this),s=0;s<o.length;s++)if(o[s]instanceof t.Member.Event&&o[s].getName()==a)return void(this._eventObject=o[s]);throw new e.Event.Fatal("EVENT_DOES_NOT_EXIST","Event name: "+a)},e.Event.prototype.getName=function(){return this._eventObject.getName()},e.Event.prototype.getArguments=function(){for(var e=this._eventObject.getArgumentTypeIdentifiers(),n=[],i=0;i<e.length;i++)n.push(t._instantiator.getReflectionFactory().buildArgument(e[i],!1,void 0,this));return n},e.Event.prototype.getAccessType=function(){return t._instantiator.getReflectionFactory().buildAccessType(this._eventObject.getAccessTypeIdentifier())},e.Event.prototype.getClass=function(){return t._instantiator.getReflectionFactory().buildClass(this._classObject.getName())};var n=function(e){return t._instantiator.getMemberRegistry().getMembers(e._classObject)};window.Reflection=window.Reflection||{},window.Reflection.Event=e.Event}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Reflection=window.ClassyJS.Reflection||{}),function(t,e,n){var i={INSTANTIATION_BEFORE_DEPENDENCIES_INJECTED:"Class dependencies must be provided via 'acceptClassDependencies' before any instance can be created",INVALID_IDENTIFIER_PROVIDED:"Class identifier must be a string, function or object",NON_STRING_EVENT_NAME_PROVIDED:"Provided event name must be a string",CLASS_DOES_NOT_EXIST:"Provided identifier does not describe a valid class",EVENT_DOES_NOT_EXIST:"Provided event name and class identifier do not describe a valid event"};n.Fatal=t.Fatal.getFatal("Reflection.Event.Fatal",i)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Reflection=window.ClassyJS.Reflection||{},window.ClassyJS.Reflection.Event=window.ClassyJS.Reflection.Event||{}),function(t,e){e.EventInstance=function(n,i){for(var a=t._instantiator.getTypeRegistry().getClass(n),o=t._instantiator.getMemberRegistry().getMembers(a),s=!1,r=0;r<o.length;r++)if(o[r]instanceof t.Member.Event&&o[r].getName()==i){s=!0;break}if(!s)throw new e.EventInstance.Fatal("EVENT_DOES_NOT_EXIST","Event name: "+i);this._objectInstance=n,this._name=i},e.EventInstance.prototype.getEvent=function(){return t._instantiator.getReflectionFactory().buildEvent(this._objectInstance,this._name)},e.EventInstance.prototype.trigger=function(){t._instantiator.getMemberRegistry().triggerEvent(this._objectInstance,this._name,Array.prototype.splice.call(arguments,0,arguments.length))},window.Reflection=window.Reflection||{},window.Reflection.EventInstance=e.EventInstance}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Reflection=window.ClassyJS.Reflection||{}),function(t,e,n){var i={EVENT_DOES_NOT_EXIST:"Provided event name and class instance do not describe a valid event"};n.Fatal=t.Fatal.getFatal("Reflection.EventInstance.Fatal",i)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Reflection=window.ClassyJS.Reflection||{},window.ClassyJS.Reflection.EventInstance=window.ClassyJS.Reflection.EventInstance||{}),function(t,e){e.Constant=function(i,a){if("string"==typeof i&&(i=t._instantiator.getNamespaceManager().getNamespaceObject(i)),"function"!=typeof i&&"object"!=typeof i)throw new e.Constant.Fatal("INVALID_IDENTIFIER_PROVIDED","Provided type: "+typeof i);if("string"!=typeof a)throw new e.Constant.Fatal("NON_STRING_CONSTANT_NAME_PROVIDED","Provided type: "+typeof a);if(!t._instantiator.getTypeRegistry().classExists(i))throw new e.Constant.Fatal("CLASS_DOES_NOT_EXIST");this._classObject=t._instantiator.getTypeRegistry().getClass(i);for(var o=n(this),s=0;s<o.length;s++)if(o[s]instanceof t.Member.Constant&&o[s].getName()==a)return void(this._constantObject=o[s]);throw new e.Constant.Fatal("CONSTANT_DOES_NOT_EXIST","Constant name: "+a)},e.Constant.prototype.getName=function(){return this._constantObject.getName()},e.Constant.prototype.getType=function(){return t._instantiator.getReflectionFactory().buildType(this._constantObject.getTypeIdentifier())},e.Constant.prototype.getAccessType=function(){return t._instantiator.getReflectionFactory().buildAccessType(this._constantObject.getAccessTypeIdentifier())},e.Constant.prototype.getValue=function(){return this._constantObject.get()},e.Constant.prototype.isAutoGenerated=function(){return this._constantObject.isAutoGenerated()},e.Constant.prototype.getClass=function(){return t._instantiator.getReflectionFactory().buildClass(this._classObject.getName())};var n=function(e){return t._instantiator.getMemberRegistry().getMembers(e._classObject)};window.Reflection=window.Reflection||{},window.Reflection.Constant=e.Constant}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Reflection=window.ClassyJS.Reflection||{}),function(t,e,n){var i={INSTANTIATION_BEFORE_DEPENDENCIES_INJECTED:"Class dependencies must be provided via 'acceptClassDependencies' before any instance can be created",INVALID_IDENTIFIER_PROVIDED:"Class identifier must be a string, function or object",NON_STRING_CONSTANT_NAME_PROVIDED:"Provided constant name must be a string",CLASS_DOES_NOT_EXIST:"Provided identifier does not describe a valid class",CONSTANT_DOES_NOT_EXIST:"Provided constant name and class identifier do not describe a valid constant"};n.Fatal=t.Fatal.getFatal("Reflection.Constant.Fatal",i)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Reflection=window.ClassyJS.Reflection||{},window.ClassyJS.Reflection.Constant=window.ClassyJS.Reflection.Constant||{}),function(t,e){e.Argument=function(t,n,i,a){if("string"!=typeof t)throw new e.Argument.Fatal("NON_STRING_TYPE_IDENTIFIER_SUPPLIED","Provided type: "+typeof t);if("boolean"!=typeof n)throw new e.Argument.Fatal("NON_BOOLEAN_OPTIONAL_FLAG_SUPPLIED","Provided type: "+typeof n);if(!n&&"undefined"!=typeof i)throw new e.Argument.Fatal("UNEXPECTED_DEFAULT_PROVIDED");if(-1==["string","object","function"].indexOf(typeof a))throw new e.Argument.Fatal("INVALID_OWNER_TYPE_PROVIDED","Provided type: "+typeof a);this._typeIdentifier=t,this._isOptional=n,this._defaultValue=i,this._owner=a},e.Argument.prototype.getType=function(){return t._instantiator.getReflectionFactory().buildType(this._typeIdentifier)},e.Argument.prototype.isOptional=function(){return this._isOptional},e.Argument.prototype.hasDefaultValue=function(){return void 0===this._defaultValue?!1:!0},e.Argument.prototype.getDefaultValue=function(){if(void 0===this._defaultValue)throw new e.Argument.Fatal("NON_DEFAULT_RETRIEVED");return this._defaultValue},e.Argument.prototype.getClass=function(){return t._instantiator.getReflectionFactory().buildClass(this._owner)},window.Reflection=window.Reflection||{},window.Reflection.Argument=e.Argument}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Reflection=window.ClassyJS.Reflection||{}),function(t,e,n){var i={NON_STRING_TYPE_IDENTIFIER_SUPPLIED:"The provided type identifier must be a string",NON_BOOLEAN_OPTIONAL_FLAG_SUPPLIED:"The provided flag indicating whether the argument is optional must be a boolean",UNEXPECTED_DEFAULT_PROVIDED:"A default value was provided even though it was indicated that the argument is not optional",INVALID_OWNER_TYPE_PROVIDED:"The provided owner must be an object, function or string",NON_DEFAULT_RETRIEVED:"A call was made to getDefaultValue when no default exists"};n.Fatal=t.Fatal.getFatal("Reflection.Argument.Fatal",i)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Reflection=window.ClassyJS.Reflection||{},window.ClassyJS.Reflection.Argument=window.ClassyJS.Reflection.Argument||{}),function(t,e){e.AccessType=function(t){this._identifier=t},e.AccessType.prototype.getIdentifier=function(){return this._identifier},window.Reflection=window.Reflection||{},window.Reflection.AccessType=e.AccessType}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Reflection=window.ClassyJS.Reflection||{}),function(t,e){e.Type=function(t){if("string"!=typeof t)throw new e.Type.Fatal("NON_STRING_IDENTIFIER_PROVIDED","Provided type: "+typeof t);this._identifier=t},e.Type.prototype.getIdentifier=function(){return this._identifier},e.Type.prototype.isValidValue=function(e){return t._instantiator.getTypeChecker().isValidType(e,this._identifier)},window.Reflection=window.Reflection||{},window.Reflection.Type=e.Type}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Reflection=window.ClassyJS.Reflection||{}),function(t,e,n){var i={NON_STRING_IDENTIFIER_PROVIDED:"The provided type identifier must be a string"};n.Fatal=t.Fatal.getFatal("Reflection.Type.Fatal",i)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Reflection=window.ClassyJS.Reflection||{},window.ClassyJS.Reflection.Type=window.ClassyJS.Reflection.Type||{}),function(){var t=new ClassyJS.Instantiator;ClassyJS._instantiator=t;var e=t.getNamespaceManager();window.define=function(){for(var o=[],s=0;s<arguments.length;s++)if("string"==typeof arguments[s])o.push(arguments[s]);else{if(arguments.length!=s+1)throw new Error("Bad args to define");var r=arguments[s]}var c=o.pop(),y=t.getTypeFactory().build(c);if(n(r,y),y instanceof ClassyJS.Type.Class){var l=new ClassyJS.Type.Class.Constructor(t.getTypeRegistry(),t.getMemberRegistry(),y.getName());t.getTypeRegistry().registerClass(y,l);var f=[],d=[];if(y.isExtension()){var p=t.getAutoLoader();try{var _=e.getNamespaceObject(y.getParentClass())}catch(u){if(!u instanceof ClassyJS.NamespaceManager.Fatal||"NAMESPACE_OBJECT_DOES_NOT_EXIST"!=u.code)throw u}var w=function(n,o){return function(){"undefined"==typeof _&&(_=e.getNamespaceObject(o));var n=t.getTypeRegistry().getClass(_);t.getTypeRegistry().registerClassChild(y.getParentClass(),y),l.prototype=i(_.prototype),l.prototype.constructor=l,a(f,d,n)}}(l,y.getParentClass());"undefined"==typeof _&&p.isRunning()?p["continue"](y.getParentClass(),w):w()}l.prototype.toString=function(){return"[object "+y.getName()+"]"},e.registerClassFunction(y.getName(),l);var h=y.getInterfaces();for(var s in h)t.getTypeRegistry().registerInterfaceAgainstClass(h[s],y)}else y instanceof ClassyJS.Type.Interface&&t.getTypeRegistry().registerInterface(y);for(var s in r){if("[object Array]"==Object.prototype.toString.call(r))var C=t.getMemberFactory().build(r[s],!0);else var C=t.getMemberFactory().build(s,!1,r[s]);t.getMemberRegistry().register(C,y),C instanceof ClassyJS.Member.Method&&C.isStatic()?f.push(C.getName()):C instanceof ClassyJS.Member.Constant&&d.push(C.getName())}if(y instanceof ClassyJS.Type.Class){for(var s in f)l[f[s]]=function(e){return function(){return t.getMemberRegistry().callMethod(l,{},e,Array.prototype.slice.call(arguments,0))}}(f[s]);for(var s in d)l[d[s]]=function(e){return function(){return t.getMemberRegistry().getConstant(l,arguments.callee.caller.$$localOwner||{},e)}}(d[s])}if(t.getAutoLoader().isRunning())for(var s in o){var E=o[s].match(/^(?:\s+)?require\s+([A-Za-z0-9.]+)(?:\s+)?$/);t.getAutoLoader()["continue"](E[1])}},window.start=function(e,n){t.getAutoLoader().start(e,n)},window.start.addAutoLoadPattern=function(e,n){t.getAutoLoader().addClassAutoloadPattern(e,n)},window.require=function(e,n){t.getAutoLoader().require(e,arguments.callee.caller.$$owner,arguments.callee.caller.$$localOwner,n)};var n=function(t,e){if(e instanceof ClassyJS.Type.Class){if("undefined"!=typeof t){if("[object Array]"==Object.prototype.toString.call(t))throw new ClassyJS.Main.Fatal("NON_OBJECT_CLASS_MEMBERS","Provided type: array");if("object"!=typeof t)throw new ClassyJS.Main.Fatal("NON_OBJECT_CLASS_MEMBERS","Provided type: "+typeof t)}}else if(e instanceof ClassyJS.Type.Interface&&"undefined"!=typeof t&&"[object Array]"!=Object.prototype.toString.call(t))throw new ClassyJS.Main.Fatal("NON_ARRAY_INTERFACE_MEMBERS","Provided type: "+typeof t)},i=function(t){function e(){}return e.prototype=t,new e},a=function(e,n,i){var a=t.getMemberRegistry().getMembers(i);for(var o in a)a[o]instanceof ClassyJS.Member.Method&&a[o].isStatic()?e.push(a[o].getName()):a[o]instanceof ClassyJS.Member.Constant&&n.push(a[o].getName())}}(),function(t,e){var n={NON_OBJECT_CLASS_MEMBERS:"Provided class members must be defined as object",NON_ARRAY_INTERFACE_MEMBERS:"Provided interface members must be defined as array"};e.Fatal=t.Fatal.getFatal("Main.Fatal",n)}(window.ClassyJS=window.ClassyJS||{},window.ClassyJS.Main=window.ClassyJS.Main||{});